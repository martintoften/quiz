function Wp(s,r){for(var n=0;n<r.length;n++){const o=r[n];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in s)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Vp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ka={exports:{}},ps={},Ga={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function Hp(){if(Cd)return le;Cd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function R(k,L,oe){this.props=k,this.context=L,this.refs=j,this.updater=oe||C}R.prototype.isReactComponent={},R.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},R.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function U(){}U.prototype=R.prototype;function M(k,L,oe){this.props=k,this.context=L,this.refs=j,this.updater=oe||C}var P=M.prototype=new U;P.constructor=M,N(P,R.prototype),P.isPureReactComponent=!0;var A=Array.isArray,Z=Object.prototype.hasOwnProperty,G={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ie(k,L,oe){var ue,he={},fe=null,ye=null;if(L!=null)for(ue in L.ref!==void 0&&(ye=L.ref),L.key!==void 0&&(fe=""+L.key),L)Z.call(L,ue)&&!se.hasOwnProperty(ue)&&(he[ue]=L[ue]);var me=arguments.length-2;if(me===1)he.children=oe;else if(1<me){for(var Ee=Array(me),ut=0;ut<me;ut++)Ee[ut]=arguments[ut+2];he.children=Ee}if(k&&k.defaultProps)for(ue in me=k.defaultProps,me)he[ue]===void 0&&(he[ue]=me[ue]);return{$$typeof:s,type:k,key:fe,ref:ye,props:he,_owner:G.current}}function ae(k,L){return{$$typeof:s,type:k.type,key:L,ref:k.ref,props:k.props,_owner:k._owner}}function ve(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function et(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return L[oe]})}var tt=/\/+/g;function Ye(k,L){return typeof k=="object"&&k!==null&&k.key!=null?et(""+k.key):L.toString(36)}function kt(k,L,oe,ue,he){var fe=typeof k;(fe==="undefined"||fe==="boolean")&&(k=null);var ye=!1;if(k===null)ye=!0;else switch(fe){case"string":case"number":ye=!0;break;case"object":switch(k.$$typeof){case s:case r:ye=!0}}if(ye)return ye=k,he=he(ye),k=ue===""?"."+Ye(ye,0):ue,A(he)?(oe="",k!=null&&(oe=k.replace(tt,"$&/")+"/"),kt(he,L,oe,"",function(ut){return ut})):he!=null&&(ve(he)&&(he=ae(he,oe+(!he.key||ye&&ye.key===he.key?"":(""+he.key).replace(tt,"$&/")+"/")+k)),L.push(he)),1;if(ye=0,ue=ue===""?".":ue+":",A(k))for(var me=0;me<k.length;me++){fe=k[me];var Ee=ue+Ye(fe,me);ye+=kt(fe,L,oe,Ee,he)}else if(Ee=E(k),typeof Ee=="function")for(k=Ee.call(k),me=0;!(fe=k.next()).done;)fe=fe.value,Ee=ue+Ye(fe,me++),ye+=kt(fe,L,oe,Ee,he);else if(fe==="object")throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ye}function $t(k,L,oe){if(k==null)return k;var ue=[],he=0;return kt(k,ue,"","",function(fe){return L.call(oe,fe,he++)}),ue}function rt(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var je={current:null},F={transition:null},re={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:F,ReactCurrentOwner:G};function V(){throw Error("act(...) is not supported in production builds of React.")}return le.Children={map:$t,forEach:function(k,L,oe){$t(k,function(){L.apply(this,arguments)},oe)},count:function(k){var L=0;return $t(k,function(){L++}),L},toArray:function(k){return $t(k,function(L){return L})||[]},only:function(k){if(!ve(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},le.Component=R,le.Fragment=n,le.Profiler=l,le.PureComponent=M,le.StrictMode=o,le.Suspense=p,le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,le.act=V,le.cloneElement=function(k,L,oe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ue=N({},k.props),he=k.key,fe=k.ref,ye=k._owner;if(L!=null){if(L.ref!==void 0&&(fe=L.ref,ye=G.current),L.key!==void 0&&(he=""+L.key),k.type&&k.type.defaultProps)var me=k.type.defaultProps;for(Ee in L)Z.call(L,Ee)&&!se.hasOwnProperty(Ee)&&(ue[Ee]=L[Ee]===void 0&&me!==void 0?me[Ee]:L[Ee])}var Ee=arguments.length-2;if(Ee===1)ue.children=oe;else if(1<Ee){me=Array(Ee);for(var ut=0;ut<Ee;ut++)me[ut]=arguments[ut+2];ue.children=me}return{$$typeof:s,type:k.type,key:he,ref:fe,props:ue,_owner:ye}},le.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},le.createElement=ie,le.createFactory=function(k){var L=ie.bind(null,k);return L.type=k,L},le.createRef=function(){return{current:null}},le.forwardRef=function(k){return{$$typeof:f,render:k}},le.isValidElement=ve,le.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:rt}},le.memo=function(k,L){return{$$typeof:v,type:k,compare:L===void 0?null:L}},le.startTransition=function(k){var L=F.transition;F.transition={};try{k()}finally{F.transition=L}},le.unstable_act=V,le.useCallback=function(k,L){return je.current.useCallback(k,L)},le.useContext=function(k){return je.current.useContext(k)},le.useDebugValue=function(){},le.useDeferredValue=function(k){return je.current.useDeferredValue(k)},le.useEffect=function(k,L){return je.current.useEffect(k,L)},le.useId=function(){return je.current.useId()},le.useImperativeHandle=function(k,L,oe){return je.current.useImperativeHandle(k,L,oe)},le.useInsertionEffect=function(k,L){return je.current.useInsertionEffect(k,L)},le.useLayoutEffect=function(k,L){return je.current.useLayoutEffect(k,L)},le.useMemo=function(k,L){return je.current.useMemo(k,L)},le.useReducer=function(k,L,oe){return je.current.useReducer(k,L,oe)},le.useRef=function(k){return je.current.useRef(k)},le.useState=function(k){return je.current.useState(k)},le.useSyncExternalStore=function(k,L,oe){return je.current.useSyncExternalStore(k,L,oe)},le.useTransition=function(){return je.current.useTransition()},le.version="18.3.1",le}var Td;function Sl(){return Td||(Td=1,Ga.exports=Hp()),Ga.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Kp(){if(jd)return ps;jd=1;var s=Sl(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,v){var _,w={},E=null,C=null;v!==void 0&&(E=""+v),p.key!==void 0&&(E=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)o.call(p,_)&&!c.hasOwnProperty(_)&&(w[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:r,type:f,key:E,ref:C,props:w,_owner:l.current}}return ps.Fragment=n,ps.jsx=d,ps.jsxs=d,ps}var Rd;function Gp(){return Rd||(Rd=1,Ka.exports=Kp()),Ka.exports}var g=Gp(),I=Sl();const Qp=Vp(I),Jp=Wp({__proto__:null,default:Qp},[I]);var Bi={},Qa={exports:{}},lt={},Ja={exports:{}},Ya={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od;function Yp(){return Od||(Od=1,(function(s){function r(F,re){var V=F.length;F.push(re);e:for(;0<V;){var k=V-1>>>1,L=F[k];if(0<l(L,re))F[k]=re,F[V]=L,V=k;else break e}}function n(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var re=F[0],V=F.pop();if(V!==re){F[0]=V;e:for(var k=0,L=F.length,oe=L>>>1;k<oe;){var ue=2*(k+1)-1,he=F[ue],fe=ue+1,ye=F[fe];if(0>l(he,V))fe<L&&0>l(ye,he)?(F[k]=ye,F[fe]=V,k=fe):(F[k]=he,F[ue]=V,k=ue);else if(fe<L&&0>l(ye,V))F[k]=ye,F[fe]=V,k=fe;else break e}}return re}function l(F,re){var V=F.sortIndex-re.sortIndex;return V!==0?V:F.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();s.unstable_now=function(){return d.now()-f}}var p=[],v=[],_=1,w=null,E=3,C=!1,N=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var re=n(v);re!==null;){if(re.callback===null)o(v);else if(re.startTime<=F)o(v),re.sortIndex=re.expirationTime,r(p,re);else break;re=n(v)}}function A(F){if(j=!1,P(F),!N)if(n(p)!==null)N=!0,rt(Z);else{var re=n(v);re!==null&&je(A,re.startTime-F)}}function Z(F,re){N=!1,j&&(j=!1,U(ie),ie=-1),C=!0;var V=E;try{for(P(re),w=n(p);w!==null&&(!(w.expirationTime>re)||F&&!et());){var k=w.callback;if(typeof k=="function"){w.callback=null,E=w.priorityLevel;var L=k(w.expirationTime<=re);re=s.unstable_now(),typeof L=="function"?w.callback=L:w===n(p)&&o(p),P(re)}else o(p);w=n(p)}if(w!==null)var oe=!0;else{var ue=n(v);ue!==null&&je(A,ue.startTime-re),oe=!1}return oe}finally{w=null,E=V,C=!1}}var G=!1,se=null,ie=-1,ae=5,ve=-1;function et(){return!(s.unstable_now()-ve<ae)}function tt(){if(se!==null){var F=s.unstable_now();ve=F;var re=!0;try{re=se(!0,F)}finally{re?Ye():(G=!1,se=null)}}else G=!1}var Ye;if(typeof M=="function")Ye=function(){M(tt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,$t=kt.port2;kt.port1.onmessage=tt,Ye=function(){$t.postMessage(null)}}else Ye=function(){R(tt,0)};function rt(F){se=F,G||(G=!0,Ye())}function je(F,re){ie=R(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_continueExecution=function(){N||C||(N=!0,rt(Z))},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(F){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var V=E;E=re;try{return F()}finally{E=V}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=E;E=F;try{return re()}finally{E=V}},s.unstable_scheduleCallback=function(F,re,V){var k=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?k+V:k):V=k,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,F={id:_++,callback:re,priorityLevel:F,startTime:V,expirationTime:L,sortIndex:-1},V>k?(F.sortIndex=V,r(v,F),n(p)===null&&F===n(v)&&(j?(U(ie),ie=-1):j=!0,je(A,V-k))):(F.sortIndex=L,r(p,F),N||C||(N=!0,rt(Z))),F},s.unstable_shouldYield=et,s.unstable_wrapCallback=function(F){var re=E;return function(){var V=E;E=re;try{return F.apply(this,arguments)}finally{E=V}}}})(Ya)),Ya}var Nd;function Xp(){return Nd||(Nd=1,Ja.exports=Yp()),Ja.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function Zp(){if(Pd)return lt;Pd=1;var s=Sl(),r=Xp();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function E(e){return p.call(w,e)?!0:p.call(_,e)?!1:v.test(e)?w[e]=!0:(_[e]=!0,!1)}function C(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,a){if(t===null||typeof t>"u"||C(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,i,a,u,h,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=m}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,M);R[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,M);R[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,M);R[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,i,a){var u=R.hasOwnProperty(t)?R[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,u,a)&&(i=null),a||u===null?E(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var A=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),G=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ve=Symbol.for("react.provider"),et=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),Ye=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),$t=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),F=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,k;function L(e){if(k===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var oe=!1;function ue(e,t){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var a=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){a=O}e.call(t.prototype)}else{try{throw Error()}catch(O){a=O}e()}}catch(O){if(O&&a&&typeof O.stack=="string"){for(var u=O.stack.split(`
`),h=a.stack.split(`
`),m=u.length-1,y=h.length-1;1<=m&&0<=y&&u[m]!==h[y];)y--;for(;1<=m&&0<=y;m--,y--)if(u[m]!==h[y]){if(m!==1||y!==1)do if(m--,y--,0>y||u[m]!==h[y]){var x=`
`+u[m].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=m&&0<=y);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?L(e):""}function he(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case G:return"Portal";case ae:return"Profiler";case ie:return"StrictMode";case Ye:return"Suspense";case kt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case et:return(e.displayName||"Context")+".Consumer";case ve:return(e._context.displayName||"Context")+".Provider";case tt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $t:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case rt:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ut(e){var t=Ee(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){a=""+m,h.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=ut(e))}function Pl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=Ee(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zi(e,t){var i=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Al(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=me(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Il(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function eo(e,t){Il(e,t);var i=me(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?to(e,t.type,i):t.hasOwnProperty("defaultValue")&&to(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $l(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function to(e,t,i){(t!=="number"||Ps(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Rn=Array.isArray;function Vr(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+me(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ul(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Rn(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:me(i)}}function Ll(e,t){var i=me(t.value),a=me(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Dl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function no(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var As,Ml=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=As.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function On(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kh=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(e){Kh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]})});function Bl(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function Fl(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=Bl(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Gh=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(Gh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function io(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oo=null;function ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lo=null,Hr=null,Kr=null;function ql(e){if(e=Zn(e)){if(typeof lo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ri(t),lo(e.stateNode,e.type,t))}}function Wl(e){Hr?Kr?Kr.push(e):Kr=[e]:Hr=e}function Vl(){if(Hr){var e=Hr,t=Kr;if(Kr=Hr=null,ql(e),t)for(e=0;e<t.length;e++)ql(t[e])}}function Hl(e,t){return e(t)}function Kl(){}var uo=!1;function Gl(e,t,i){if(uo)return e(t,i);uo=!0;try{return Hl(e,t,i)}finally{uo=!1,(Hr!==null||Kr!==null)&&(Kl(),Vl())}}function Pn(e,t){var i=e.stateNode;if(i===null)return null;var a=ri(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var co=!1;if(f)try{var An={};Object.defineProperty(An,"passive",{get:function(){co=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{co=!1}function Qh(e,t,i,a,u,h,m,y,x){var O=Array.prototype.slice.call(arguments,3);try{t.apply(i,O)}catch(D){this.onError(D)}}var In=!1,Is=null,$s=!1,ho=null,Jh={onError:function(e){In=!0,Is=e}};function Yh(e,t,i,a,u,h,m,y,x){In=!1,Is=null,Qh.apply(Jh,arguments)}function Xh(e,t,i,a,u,h,m,y,x){if(Yh.apply(this,arguments),In){if(In){var O=Is;In=!1,Is=null}else throw Error(n(198));$s||($s=!0,ho=O)}}function kr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Ql(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jl(e){if(kr(e)!==e)throw Error(n(188))}function Zh(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var h=u.alternate;if(h===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===i)return Jl(u),e;if(h===a)return Jl(u),t;h=h.sibling}throw Error(n(188))}if(i.return!==a.return)i=u,a=h;else{for(var m=!1,y=u.child;y;){if(y===i){m=!0,i=u,a=h;break}if(y===a){m=!0,a=u,i=h;break}y=y.sibling}if(!m){for(y=h.child;y;){if(y===i){m=!0,i=h,a=u;break}if(y===a){m=!0,a=h,i=u;break}y=y.sibling}if(!m)throw Error(n(189))}}if(i.alternate!==a)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Yl(e){return e=Zh(e),e!==null?Xl(e):null}function Xl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xl(e);if(t!==null)return t;e=e.sibling}return null}var Zl=r.unstable_scheduleCallback,eu=r.unstable_cancelCallback,ef=r.unstable_shouldYield,tf=r.unstable_requestPaint,Ne=r.unstable_now,rf=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,tu=r.unstable_UserBlockingPriority,Us=r.unstable_NormalPriority,nf=r.unstable_LowPriority,ru=r.unstable_IdlePriority,Ls=null,Ut=null;function sf(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ls,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:lf,of=Math.log,af=Math.LN2;function lf(e){return e>>>=0,e===0?32:31-(of(e)/af|0)|0}var Ds=64,zs=4194304;function $n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,h=e.pingedLanes,m=i&268435455;if(m!==0){var y=m&~u;y!==0?a=$n(y):(h&=m,h!==0&&(a=$n(h)))}else m=i&~u,m!==0?a=$n(m):h!==0&&(a=$n(h));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,h=t&-t,u>=h||u===16&&(h&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-bt(t),u=1<<i,a|=e[i],t&=~u;return a}function uf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cf(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var m=31-bt(h),y=1<<m,x=u[m];x===-1?((y&i)===0||(y&a)!==0)&&(u[m]=uf(y,t)):x<=t&&(e.expiredLanes|=y),h&=~y}}function po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nu(){var e=Ds;return Ds<<=1,(Ds&4194240)===0&&(Ds=64),e}function mo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Un(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=i}function df(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-bt(i),h=1<<u;t[u]=0,a[u]=-1,e[u]=-1,i&=~h}}function go(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-bt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}var ge=0;function su(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var iu,vo,ou,au,lu,yo=!1,Bs=[],Zt=null,er=null,tr=null,Ln=new Map,Dn=new Map,rr=[],hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uu(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ln.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(t.pointerId)}}function zn(e,t,i,a,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Zn(t),t!==null&&vo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function ff(e,t,i,a,u){switch(t){case"focusin":return Zt=zn(Zt,e,t,i,a,u),!0;case"dragenter":return er=zn(er,e,t,i,a,u),!0;case"mouseover":return tr=zn(tr,e,t,i,a,u),!0;case"pointerover":var h=u.pointerId;return Ln.set(h,zn(Ln.get(h)||null,e,t,i,a,u)),!0;case"gotpointercapture":return h=u.pointerId,Dn.set(h,zn(Dn.get(h)||null,e,t,i,a,u)),!0}return!1}function cu(e){var t=br(e.target);if(t!==null){var i=kr(t);if(i!==null){if(t=i.tag,t===13){if(t=Ql(i),t!==null){e.blockedOn=t,lu(e.priority,function(){ou(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=_o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);oo=a,i.target.dispatchEvent(a),oo=null}else return t=Zn(i),t!==null&&vo(t),e.blockedOn=i,!1;t.shift()}return!0}function du(e,t,i){Fs(e)&&i.delete(t)}function pf(){yo=!1,Zt!==null&&Fs(Zt)&&(Zt=null),er!==null&&Fs(er)&&(er=null),tr!==null&&Fs(tr)&&(tr=null),Ln.forEach(du),Dn.forEach(du)}function Mn(e,t){e.blockedOn===t&&(e.blockedOn=null,yo||(yo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pf)))}function Bn(e){function t(u){return Mn(u,e)}if(0<Bs.length){Mn(Bs[0],e);for(var i=1;i<Bs.length;i++){var a=Bs[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Zt!==null&&Mn(Zt,e),er!==null&&Mn(er,e),tr!==null&&Mn(tr,e),Ln.forEach(t),Dn.forEach(t),i=0;i<rr.length;i++)a=rr[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<rr.length&&(i=rr[0],i.blockedOn===null);)cu(i),i.blockedOn===null&&rr.shift()}var Gr=A.ReactCurrentBatchConfig,qs=!0;function mf(e,t,i,a){var u=ge,h=Gr.transition;Gr.transition=null;try{ge=1,wo(e,t,i,a)}finally{ge=u,Gr.transition=h}}function gf(e,t,i,a){var u=ge,h=Gr.transition;Gr.transition=null;try{ge=4,wo(e,t,i,a)}finally{ge=u,Gr.transition=h}}function wo(e,t,i,a){if(qs){var u=_o(e,t,i,a);if(u===null)Lo(e,t,a,Ws,i),uu(e,a);else if(ff(u,e,t,i,a))a.stopPropagation();else if(uu(e,a),t&4&&-1<hf.indexOf(e)){for(;u!==null;){var h=Zn(u);if(h!==null&&iu(h),h=_o(e,t,i,a),h===null&&Lo(e,t,a,Ws,i),h===u)break;u=h}u!==null&&a.stopPropagation()}else Lo(e,t,a,null,i)}}var Ws=null;function _o(e,t,i,a){if(Ws=null,e=ao(a),e=br(e),e!==null)if(t=kr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Ql(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ws=e,null}function hu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rf()){case fo:return 1;case tu:return 4;case Us:case nf:return 16;case ru:return 536870912;default:return 16}default:return 16}}var nr=null,xo=null,Vs=null;function fu(){if(Vs)return Vs;var e,t=xo,i=t.length,a,u="value"in nr?nr.value:nr.textContent,h=u.length;for(e=0;e<i&&t[e]===u[e];e++);var m=i-e;for(a=1;a<=m&&t[i-a]===u[h-a];a++);return Vs=u.slice(e,1<a?1-a:void 0)}function Hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function pu(){return!1}function ct(e){function t(i,a,u,h,m){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ks:pu,this.isPropagationStopped=pu,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=ct(Qr),Fn=V({},Qr,{view:0,detail:0}),vf=ct(Fn),Eo,ko,qn,Gs=V({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(Eo=e.screenX-qn.screenX,ko=e.screenY-qn.screenY):ko=Eo=0,qn=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),mu=ct(Gs),yf=V({},Gs,{dataTransfer:0}),wf=ct(yf),_f=V({},Fn,{relatedTarget:0}),bo=ct(_f),xf=V({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=ct(xf),Ef=V({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kf=ct(Ef),bf=V({},Qr,{data:0}),gu=ct(bf),Cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jf[e])?!!t[e]:!1}function Co(){return Rf}var Of=V({},Fn,{key:function(e){if(e.key){var t=Cf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?Hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=ct(Of),Pf=V({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=ct(Pf),Af=V({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),If=ct(Af),$f=V({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=ct($f),Lf=V({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=ct(Lf),zf=[9,13,27,32],To=f&&"CompositionEvent"in window,Wn=null;f&&"documentMode"in document&&(Wn=document.documentMode);var Mf=f&&"TextEvent"in window&&!Wn,yu=f&&(!To||Wn&&8<Wn&&11>=Wn),wu=" ",_u=!1;function xu(e,t){switch(e){case"keyup":return zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function Bf(e,t){switch(e){case"compositionend":return Su(t);case"keypress":return t.which!==32?null:(_u=!0,wu);case"textInput":return e=t.data,e===wu&&_u?null:e;default:return null}}function Ff(e,t){if(Jr)return e==="compositionend"||!To&&xu(e,t)?(e=fu(),Vs=xo=nr=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yu&&t.locale!=="ko"?null:t.data;default:return null}}var qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qf[e.type]:t==="textarea"}function ku(e,t,i,a){Wl(a),t=Zs(t,"onChange"),0<t.length&&(i=new So("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Vn=null,Hn=null;function Wf(e){Fu(e,0)}function Qs(e){var t=tn(e);if(Pl(t))return e}function Vf(e,t){if(e==="change")return t}var bu=!1;if(f){var jo;if(f){var Ro="oninput"in document;if(!Ro){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),Ro=typeof Cu.oninput=="function"}jo=Ro}else jo=!1;bu=jo&&(!document.documentMode||9<document.documentMode)}function Tu(){Vn&&(Vn.detachEvent("onpropertychange",ju),Hn=Vn=null)}function ju(e){if(e.propertyName==="value"&&Qs(Hn)){var t=[];ku(t,Hn,e,ao(e)),Gl(Wf,t)}}function Hf(e,t,i){e==="focusin"?(Tu(),Vn=t,Hn=i,Vn.attachEvent("onpropertychange",ju)):e==="focusout"&&Tu()}function Kf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(Hn)}function Gf(e,t){if(e==="click")return Qs(t)}function Qf(e,t){if(e==="input"||e==="change")return Qs(t)}function Jf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Jf;function Kn(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!p.call(t,u)||!Ct(e[u],t[u]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var i=Ru(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ru(i)}}function Nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pu(){for(var e=window,t=Ps();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yf(e){var t=Pu(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Nu(i.ownerDocument.documentElement,i)){if(a!==null&&Oo(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,h=Math.min(a.start,u);a=a.end===void 0?h:Math.min(a.end,u),!e.extend&&h>a&&(u=a,a=h,h=u),u=Ou(i,h);var m=Ou(i,a);u&&m&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),h>a?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xf=f&&"documentMode"in document&&11>=document.documentMode,Yr=null,No=null,Gn=null,Po=!1;function Au(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Po||Yr==null||Yr!==Ps(a)||(a=Yr,"selectionStart"in a&&Oo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Gn&&Kn(Gn,a)||(Gn=a,a=Zs(No,"onSelect"),0<a.length&&(t=new So("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Yr)))}function Js(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Xr={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},Ao={},Iu={};f&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function Ys(e){if(Ao[e])return Ao[e];if(!Xr[e])return e;var t=Xr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Iu)return Ao[e]=t[i];return e}var $u=Ys("animationend"),Uu=Ys("animationiteration"),Lu=Ys("animationstart"),Du=Ys("transitionend"),zu=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){zu.set(e,t),c(t,[e])}for(var Io=0;Io<Mu.length;Io++){var $o=Mu[Io],Zf=$o.toLowerCase(),ep=$o[0].toUpperCase()+$o.slice(1);sr(Zf,"on"+ep)}sr($u,"onAnimationEnd"),sr(Uu,"onAnimationIteration"),sr(Lu,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(Du,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qn));function Bu(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Xh(a,t,void 0,e),e.currentTarget=null}function Fu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var m=a.length-1;0<=m;m--){var y=a[m],x=y.instance,O=y.currentTarget;if(y=y.listener,x!==h&&u.isPropagationStopped())break e;Bu(u,y,O),h=x}else for(m=0;m<a.length;m++){if(y=a[m],x=y.instance,O=y.currentTarget,y=y.listener,x!==h&&u.isPropagationStopped())break e;Bu(u,y,O),h=x}}}if($s)throw e=ho,$s=!1,ho=null,e}function xe(e,t){var i=t[qo];i===void 0&&(i=t[qo]=new Set);var a=e+"__bubble";i.has(a)||(qu(t,e,2,!1),i.add(a))}function Uo(e,t,i){var a=0;t&&(a|=4),qu(i,e,a,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Xs]){e[Xs]=!0,o.forEach(function(i){i!=="selectionchange"&&(tp.has(i)||Uo(i,!1,e),Uo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,Uo("selectionchange",!1,t))}}function qu(e,t,i,a){switch(hu(t)){case 1:var u=mf;break;case 4:u=gf;break;default:u=wo}i=u.bind(null,t,i,e),u=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Lo(e,t,i,a,u){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var y=a.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(m===4)for(m=a.return;m!==null;){var x=m.tag;if((x===3||x===4)&&(x=m.stateNode.containerInfo,x===u||x.nodeType===8&&x.parentNode===u))return;m=m.return}for(;y!==null;){if(m=br(y),m===null)return;if(x=m.tag,x===5||x===6){a=h=m;continue e}y=y.parentNode}}a=a.return}Gl(function(){var O=h,D=ao(i),z=[];e:{var $=zu.get(e);if($!==void 0){var q=So,H=e;switch(e){case"keypress":if(Hs(i)===0)break e;case"keydown":case"keyup":q=Nf;break;case"focusin":H="focus",q=bo;break;case"focusout":H="blur",q=bo;break;case"beforeblur":case"afterblur":q=bo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=If;break;case $u:case Uu:case Lu:q=Sf;break;case Du:q=Uf;break;case"scroll":q=vf;break;case"wheel":q=Df;break;case"copy":case"cut":case"paste":q=kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=vu}var K=(t&4)!==0,Pe=!K&&e==="scroll",b=K?$!==null?$+"Capture":null:$;K=[];for(var S=O,T;S!==null;){T=S;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,b!==null&&(B=Pn(S,b),B!=null&&K.push(Yn(S,B,T)))),Pe)break;S=S.return}0<K.length&&($=new q($,H,null,i,D),z.push({event:$,listeners:K}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",$&&i!==oo&&(H=i.relatedTarget||i.fromElement)&&(br(H)||H[Ft]))break e;if((q||$)&&($=D.window===D?D:($=D.ownerDocument)?$.defaultView||$.parentWindow:window,q?(H=i.relatedTarget||i.toElement,q=O,H=H?br(H):null,H!==null&&(Pe=kr(H),H!==Pe||H.tag!==5&&H.tag!==6)&&(H=null)):(q=null,H=O),q!==H)){if(K=mu,B="onMouseLeave",b="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(K=vu,B="onPointerLeave",b="onPointerEnter",S="pointer"),Pe=q==null?$:tn(q),T=H==null?$:tn(H),$=new K(B,S+"leave",q,i,D),$.target=Pe,$.relatedTarget=T,B=null,br(D)===O&&(K=new K(b,S+"enter",H,i,D),K.target=T,K.relatedTarget=Pe,B=K),Pe=B,q&&H)t:{for(K=q,b=H,S=0,T=K;T;T=Zr(T))S++;for(T=0,B=b;B;B=Zr(B))T++;for(;0<S-T;)K=Zr(K),S--;for(;0<T-S;)b=Zr(b),T--;for(;S--;){if(K===b||b!==null&&K===b.alternate)break t;K=Zr(K),b=Zr(b)}K=null}else K=null;q!==null&&Wu(z,$,q,K,!1),H!==null&&Pe!==null&&Wu(z,Pe,H,K,!0)}}e:{if($=O?tn(O):window,q=$.nodeName&&$.nodeName.toLowerCase(),q==="select"||q==="input"&&$.type==="file")var Q=Vf;else if(Eu($))if(bu)Q=Qf;else{Q=Kf;var Y=Hf}else(q=$.nodeName)&&q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Q=Gf);if(Q&&(Q=Q(e,O))){ku(z,Q,i,D);break e}Y&&Y(e,$,O),e==="focusout"&&(Y=$._wrapperState)&&Y.controlled&&$.type==="number"&&to($,"number",$.value)}switch(Y=O?tn(O):window,e){case"focusin":(Eu(Y)||Y.contentEditable==="true")&&(Yr=Y,No=O,Gn=null);break;case"focusout":Gn=No=Yr=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,Au(z,i,D);break;case"selectionchange":if(Xf)break;case"keydown":case"keyup":Au(z,i,D)}var X;if(To)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Jr?xu(e,i)&&(ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ne="onCompositionStart");ne&&(yu&&i.locale!=="ko"&&(Jr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Jr&&(X=fu()):(nr=D,xo="value"in nr?nr.value:nr.textContent,Jr=!0)),Y=Zs(O,ne),0<Y.length&&(ne=new gu(ne,e,null,i,D),z.push({event:ne,listeners:Y}),X?ne.data=X:(X=Su(i),X!==null&&(ne.data=X)))),(X=Mf?Bf(e,i):Ff(e,i))&&(O=Zs(O,"onBeforeInput"),0<O.length&&(D=new gu("onBeforeInput","beforeinput",null,i,D),z.push({event:D,listeners:O}),D.data=X))}Fu(z,t)})}function Yn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Zs(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Pn(e,i),h!=null&&a.unshift(Yn(e,h,u)),h=Pn(e,t),h!=null&&a.push(Yn(e,h,u))),e=e.return}return a}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,i,a,u){for(var h=t._reactName,m=[];i!==null&&i!==a;){var y=i,x=y.alternate,O=y.stateNode;if(x!==null&&x===a)break;y.tag===5&&O!==null&&(y=O,u?(x=Pn(i,h),x!=null&&m.unshift(Yn(i,x,y))):u||(x=Pn(i,h),x!=null&&m.push(Yn(i,x,y)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var rp=/\r\n?/g,np=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(rp,`
`).replace(np,"")}function ei(e,t,i){if(t=Vu(t),Vu(e)!==t&&i)throw Error(n(425))}function ti(){}var Do=null,zo=null;function Mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,sp=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(op)}:Bo;function op(e){setTimeout(function(){throw e})}function Fo(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Bn(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Bn(t)}function ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var en=Math.random().toString(36).slice(2),Lt="__reactFiber$"+en,Xn="__reactProps$"+en,Ft="__reactContainer$"+en,qo="__reactEvents$"+en,ap="__reactListeners$"+en,lp="__reactHandles$"+en;function br(e){var t=e[Lt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ft]||i[Lt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Ku(e);e!==null;){if(i=e[Lt])return i;e=Ku(e)}return t}e=i,i=e.parentNode}return null}function Zn(e){return e=e[Lt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ri(e){return e[Xn]||null}var Wo=[],rn=-1;function or(e){return{current:e}}function Se(e){0>rn||(e.current=Wo[rn],Wo[rn]=null,rn--)}function we(e,t){rn++,Wo[rn]=e.current,e.current=t}var ar={},He=or(ar),nt=or(!1),Cr=ar;function nn(e,t){var i=e.type.contextTypes;if(!i)return ar;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in i)u[h]=t[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function st(e){return e=e.childContextTypes,e!=null}function ni(){Se(nt),Se(He)}function Gu(e,t,i){if(He.current!==ar)throw Error(n(168));we(He,t),we(nt,i)}function Qu(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(n(108,ye(e)||"Unknown",u));return V({},i,a)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Cr=He.current,we(He,e),we(nt,nt.current),!0}function Ju(e,t,i){var a=e.stateNode;if(!a)throw Error(n(169));i?(e=Qu(e,t,Cr),a.__reactInternalMemoizedMergedChildContext=e,Se(nt),Se(He),we(He,e)):Se(nt),we(nt,i)}var qt=null,ii=!1,Vo=!1;function Yu(e){qt===null?qt=[e]:qt.push(e)}function up(e){ii=!0,Yu(e)}function lr(){if(!Vo&&qt!==null){Vo=!0;var e=0,t=ge;try{var i=qt;for(ge=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}qt=null,ii=!1}catch(u){throw qt!==null&&(qt=qt.slice(e+1)),Zl(fo,lr),u}finally{ge=t,Vo=!1}}return null}var sn=[],on=0,oi=null,ai=0,vt=[],yt=0,Tr=null,Wt=1,Vt="";function jr(e,t){sn[on++]=ai,sn[on++]=oi,oi=e,ai=t}function Xu(e,t,i){vt[yt++]=Wt,vt[yt++]=Vt,vt[yt++]=Tr,Tr=e;var a=Wt;e=Vt;var u=32-bt(a)-1;a&=~(1<<u),i+=1;var h=32-bt(t)+u;if(30<h){var m=u-u%5;h=(a&(1<<m)-1).toString(32),a>>=m,u-=m,Wt=1<<32-bt(t)+u|i<<u|a,Vt=h+e}else Wt=1<<h|i<<u|a,Vt=e}function Ho(e){e.return!==null&&(jr(e,1),Xu(e,1,0))}function Ko(e){for(;e===oi;)oi=sn[--on],sn[on]=null,ai=sn[--on],sn[on]=null;for(;e===Tr;)Tr=vt[--yt],vt[yt]=null,Vt=vt[--yt],vt[yt]=null,Wt=vt[--yt],vt[yt]=null}var dt=null,ht=null,ke=!1,Tt=null;function Zu(e,t){var i=St(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function ec(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ht=ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Tr!==null?{id:Wt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=St(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,dt=e,ht=null,!0):!1;default:return!1}}function Go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qo(e){if(ke){var t=ht;if(t){var i=t;if(!ec(e,t)){if(Go(e))throw Error(n(418));t=ir(i.nextSibling);var a=dt;t&&ec(e,t)?Zu(a,i):(e.flags=e.flags&-4097|2,ke=!1,dt=e)}}else{if(Go(e))throw Error(n(418));e.flags=e.flags&-4097|2,ke=!1,dt=e}}}function tc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function li(e){if(e!==dt)return!1;if(!ke)return tc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mo(e.type,e.memoizedProps)),t&&(t=ht)){if(Go(e))throw rc(),Error(n(418));for(;t;)Zu(e,t),t=ir(t.nextSibling)}if(tc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ht=ir(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=dt?ir(e.stateNode.nextSibling):null;return!0}function rc(){for(var e=ht;e;)e=ir(e.nextSibling)}function an(){ht=dt=null,ke=!1}function Jo(e){Tt===null?Tt=[e]:Tt.push(e)}var cp=A.ReactCurrentBatchConfig;function es(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var a=i.stateNode}if(!a)throw Error(n(147,e));var u=a,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(m){var y=u.refs;m===null?delete y[h]:y[h]=m},t._stringRef=h,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nc(e){var t=e._init;return t(e._payload)}function sc(e){function t(b,S){if(e){var T=b.deletions;T===null?(b.deletions=[S],b.flags|=16):T.push(S)}}function i(b,S){if(!e)return null;for(;S!==null;)t(b,S),S=S.sibling;return null}function a(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function u(b,S){return b=gr(b,S),b.index=0,b.sibling=null,b}function h(b,S,T){return b.index=T,e?(T=b.alternate,T!==null?(T=T.index,T<S?(b.flags|=2,S):T):(b.flags|=2,S)):(b.flags|=1048576,S)}function m(b){return e&&b.alternate===null&&(b.flags|=2),b}function y(b,S,T,B){return S===null||S.tag!==6?(S=Ba(T,b.mode,B),S.return=b,S):(S=u(S,T),S.return=b,S)}function x(b,S,T,B){var Q=T.type;return Q===se?D(b,S,T.props.children,B,T.key):S!==null&&(S.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===rt&&nc(Q)===S.type)?(B=u(S,T.props),B.ref=es(b,S,T),B.return=b,B):(B=Ai(T.type,T.key,T.props,null,b.mode,B),B.ref=es(b,S,T),B.return=b,B)}function O(b,S,T,B){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=Fa(T,b.mode,B),S.return=b,S):(S=u(S,T.children||[]),S.return=b,S)}function D(b,S,T,B,Q){return S===null||S.tag!==7?(S=Ur(T,b.mode,B,Q),S.return=b,S):(S=u(S,T),S.return=b,S)}function z(b,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ba(""+S,b.mode,T),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Z:return T=Ai(S.type,S.key,S.props,null,b.mode,T),T.ref=es(b,null,S),T.return=b,T;case G:return S=Fa(S,b.mode,T),S.return=b,S;case rt:var B=S._init;return z(b,B(S._payload),T)}if(Rn(S)||re(S))return S=Ur(S,b.mode,T,null),S.return=b,S;ui(b,S)}return null}function $(b,S,T,B){var Q=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return Q!==null?null:y(b,S,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:return T.key===Q?x(b,S,T,B):null;case G:return T.key===Q?O(b,S,T,B):null;case rt:return Q=T._init,$(b,S,Q(T._payload),B)}if(Rn(T)||re(T))return Q!==null?null:D(b,S,T,B,null);ui(b,T)}return null}function q(b,S,T,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(T)||null,y(S,b,""+B,Q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return b=b.get(B.key===null?T:B.key)||null,x(S,b,B,Q);case G:return b=b.get(B.key===null?T:B.key)||null,O(S,b,B,Q);case rt:var Y=B._init;return q(b,S,T,Y(B._payload),Q)}if(Rn(B)||re(B))return b=b.get(T)||null,D(S,b,B,Q,null);ui(S,B)}return null}function H(b,S,T,B){for(var Q=null,Y=null,X=S,ne=S=0,Be=null;X!==null&&ne<T.length;ne++){X.index>ne?(Be=X,X=null):Be=X.sibling;var pe=$(b,X,T[ne],B);if(pe===null){X===null&&(X=Be);break}e&&X&&pe.alternate===null&&t(b,X),S=h(pe,S,ne),Y===null?Q=pe:Y.sibling=pe,Y=pe,X=Be}if(ne===T.length)return i(b,X),ke&&jr(b,ne),Q;if(X===null){for(;ne<T.length;ne++)X=z(b,T[ne],B),X!==null&&(S=h(X,S,ne),Y===null?Q=X:Y.sibling=X,Y=X);return ke&&jr(b,ne),Q}for(X=a(b,X);ne<T.length;ne++)Be=q(X,b,ne,T[ne],B),Be!==null&&(e&&Be.alternate!==null&&X.delete(Be.key===null?ne:Be.key),S=h(Be,S,ne),Y===null?Q=Be:Y.sibling=Be,Y=Be);return e&&X.forEach(function(vr){return t(b,vr)}),ke&&jr(b,ne),Q}function K(b,S,T,B){var Q=re(T);if(typeof Q!="function")throw Error(n(150));if(T=Q.call(T),T==null)throw Error(n(151));for(var Y=Q=null,X=S,ne=S=0,Be=null,pe=T.next();X!==null&&!pe.done;ne++,pe=T.next()){X.index>ne?(Be=X,X=null):Be=X.sibling;var vr=$(b,X,pe.value,B);if(vr===null){X===null&&(X=Be);break}e&&X&&vr.alternate===null&&t(b,X),S=h(vr,S,ne),Y===null?Q=vr:Y.sibling=vr,Y=vr,X=Be}if(pe.done)return i(b,X),ke&&jr(b,ne),Q;if(X===null){for(;!pe.done;ne++,pe=T.next())pe=z(b,pe.value,B),pe!==null&&(S=h(pe,S,ne),Y===null?Q=pe:Y.sibling=pe,Y=pe);return ke&&jr(b,ne),Q}for(X=a(b,X);!pe.done;ne++,pe=T.next())pe=q(X,b,ne,pe.value,B),pe!==null&&(e&&pe.alternate!==null&&X.delete(pe.key===null?ne:pe.key),S=h(pe,S,ne),Y===null?Q=pe:Y.sibling=pe,Y=pe);return e&&X.forEach(function(qp){return t(b,qp)}),ke&&jr(b,ne),Q}function Pe(b,S,T,B){if(typeof T=="object"&&T!==null&&T.type===se&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:e:{for(var Q=T.key,Y=S;Y!==null;){if(Y.key===Q){if(Q=T.type,Q===se){if(Y.tag===7){i(b,Y.sibling),S=u(Y,T.props.children),S.return=b,b=S;break e}}else if(Y.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===rt&&nc(Q)===Y.type){i(b,Y.sibling),S=u(Y,T.props),S.ref=es(b,Y,T),S.return=b,b=S;break e}i(b,Y);break}else t(b,Y);Y=Y.sibling}T.type===se?(S=Ur(T.props.children,b.mode,B,T.key),S.return=b,b=S):(B=Ai(T.type,T.key,T.props,null,b.mode,B),B.ref=es(b,S,T),B.return=b,b=B)}return m(b);case G:e:{for(Y=T.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){i(b,S.sibling),S=u(S,T.children||[]),S.return=b,b=S;break e}else{i(b,S);break}else t(b,S);S=S.sibling}S=Fa(T,b.mode,B),S.return=b,b=S}return m(b);case rt:return Y=T._init,Pe(b,S,Y(T._payload),B)}if(Rn(T))return H(b,S,T,B);if(re(T))return K(b,S,T,B);ui(b,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(i(b,S.sibling),S=u(S,T),S.return=b,b=S):(i(b,S),S=Ba(T,b.mode,B),S.return=b,b=S),m(b)):i(b,S)}return Pe}var ln=sc(!0),ic=sc(!1),ci=or(null),di=null,un=null,Yo=null;function Xo(){Yo=un=di=null}function Zo(e){var t=ci.current;Se(ci),e._currentValue=t}function ea(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function cn(e,t){di=e,Yo=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(it=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Yo!==e)if(e={context:e,memoizedValue:t,next:null},un===null){if(di===null)throw Error(n(308));un=e,di.dependencies={lanes:0,firstContext:e}}else un=un.next=e;return t}var Rr=null;function ta(e){Rr===null?Rr=[e]:Rr.push(e)}function oc(e,t,i,a){var u=t.interleaved;return u===null?(i.next=i,ta(t)):(i.next=u.next,u.next=i),t.interleaved=i,Ht(e,a)}function Ht(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var ur=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(de&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,Ht(e,i)}return u=a.interleaved,u===null?(t.next=t,ta(a)):(t.next=u.next,u.next=t),a.interleaved=t,Ht(e,i)}function hi(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,go(e,i)}}function lc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var m={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?u=h=m:h=h.next=m,i=i.next}while(i!==null);h===null?u=h=t:h=h.next=t}else u=h=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function fi(e,t,i,a){var u=e.updateQueue;ur=!1;var h=u.firstBaseUpdate,m=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var x=y,O=x.next;x.next=null,m===null?h=O:m.next=O,m=x;var D=e.alternate;D!==null&&(D=D.updateQueue,y=D.lastBaseUpdate,y!==m&&(y===null?D.firstBaseUpdate=O:y.next=O,D.lastBaseUpdate=x))}if(h!==null){var z=u.baseState;m=0,D=O=x=null,y=h;do{var $=y.lane,q=y.eventTime;if((a&$)===$){D!==null&&(D=D.next={eventTime:q,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var H=e,K=y;switch($=t,q=i,K.tag){case 1:if(H=K.payload,typeof H=="function"){z=H.call(q,z,$);break e}z=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=K.payload,$=typeof H=="function"?H.call(q,z,$):H,$==null)break e;z=V({},z,$);break e;case 2:ur=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,$=u.effects,$===null?u.effects=[y]:$.push(y))}else q={eventTime:q,lane:$,tag:y.tag,payload:y.payload,callback:y.callback,next:null},D===null?(O=D=q,x=z):D=D.next=q,m|=$;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;$=y,y=$.next,$.next=null,u.lastBaseUpdate=$,u.shared.pending=null}}while(!0);if(D===null&&(x=z),u.baseState=x,u.firstBaseUpdate=O,u.lastBaseUpdate=D,t=u.shared.interleaved,t!==null){u=t;do m|=u.lane,u=u.next;while(u!==t)}else h===null&&(u.shared.lanes=0);Pr|=m,e.lanes=m,e.memoizedState=z}}function uc(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(n(191,u));u.call(a)}}}var ts={},Dt=or(ts),rs=or(ts),ns=or(ts);function Or(e){if(e===ts)throw Error(n(174));return e}function na(e,t){switch(we(ns,t),we(rs,e),we(Dt,ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:no(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=no(t,e)}Se(Dt),we(Dt,t)}function dn(){Se(Dt),Se(rs),Se(ns)}function cc(e){Or(ns.current);var t=Or(Dt.current),i=no(t,e.type);t!==i&&(we(rs,e),we(Dt,i))}function sa(e){rs.current===e&&(Se(Dt),Se(rs))}var be=or(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=[];function oa(){for(var e=0;e<ia.length;e++)ia[e]._workInProgressVersionPrimary=null;ia.length=0}var mi=A.ReactCurrentDispatcher,aa=A.ReactCurrentBatchConfig,Nr=0,Ce=null,Ue=null,ze=null,gi=!1,ss=!1,is=0,dp=0;function Ke(){throw Error(n(321))}function la(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ct(e[i],t[i]))return!1;return!0}function ua(e,t,i,a,u,h){if(Nr=h,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=e===null||e.memoizedState===null?mp:gp,e=i(a,u),ss){h=0;do{if(ss=!1,is=0,25<=h)throw Error(n(301));h+=1,ze=Ue=null,t.updateQueue=null,mi.current=vp,e=i(a,u)}while(ss)}if(mi.current=wi,t=Ue!==null&&Ue.next!==null,Nr=0,ze=Ue=Ce=null,gi=!1,t)throw Error(n(300));return e}function ca(){var e=is!==0;return is=0,e}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ce.memoizedState=ze=e:ze=ze.next=e,ze}function _t(){if(Ue===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=ze===null?Ce.memoizedState:ze.next;if(t!==null)ze=t,Ue=e;else{if(e===null)throw Error(n(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},ze===null?Ce.memoizedState=ze=e:ze=ze.next=e}return ze}function os(e,t){return typeof t=="function"?t(e):t}function da(e){var t=_t(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=Ue,u=a.baseQueue,h=i.pending;if(h!==null){if(u!==null){var m=u.next;u.next=h.next,h.next=m}a.baseQueue=u=h,i.pending=null}if(u!==null){h=u.next,a=a.baseState;var y=m=null,x=null,O=h;do{var D=O.lane;if((Nr&D)===D)x!==null&&(x=x.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),a=O.hasEagerState?O.eagerState:e(a,O.action);else{var z={lane:D,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};x===null?(y=x=z,m=a):x=x.next=z,Ce.lanes|=D,Pr|=D}O=O.next}while(O!==null&&O!==h);x===null?m=a:x.next=y,Ct(a,t.memoizedState)||(it=!0),t.memoizedState=a,t.baseState=m,t.baseQueue=x,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do h=u.lane,Ce.lanes|=h,Pr|=h,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ha(e){var t=_t(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,h=t.memoizedState;if(u!==null){i.pending=null;var m=u=u.next;do h=e(h,m.action),m=m.next;while(m!==u);Ct(h,t.memoizedState)||(it=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),i.lastRenderedState=h}return[h,a]}function dc(){}function hc(e,t){var i=Ce,a=_t(),u=t(),h=!Ct(a.memoizedState,u);if(h&&(a.memoizedState=u,it=!0),a=a.queue,fa(mc.bind(null,i,a,e),[e]),a.getSnapshot!==t||h||ze!==null&&ze.memoizedState.tag&1){if(i.flags|=2048,as(9,pc.bind(null,i,a,u,t),void 0,null),Me===null)throw Error(n(349));(Nr&30)!==0||fc(i,t,u)}return u}function fc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function pc(e,t,i,a){t.value=i,t.getSnapshot=a,gc(t)&&vc(e)}function mc(e,t,i){return i(function(){gc(t)&&vc(e)})}function gc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ct(e,i)}catch{return!0}}function vc(e){var t=Ht(e,1);t!==null&&Nt(t,e,1,-1)}function yc(e){var t=zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},t.queue=e,e=e.dispatch=pp.bind(null,Ce,e),[t.memoizedState,e]}function as(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function wc(){return _t().memoizedState}function vi(e,t,i,a){var u=zt();Ce.flags|=e,u.memoizedState=as(1|t,i,void 0,a===void 0?null:a)}function yi(e,t,i,a){var u=_t();a=a===void 0?null:a;var h=void 0;if(Ue!==null){var m=Ue.memoizedState;if(h=m.destroy,a!==null&&la(a,m.deps)){u.memoizedState=as(t,i,h,a);return}}Ce.flags|=e,u.memoizedState=as(1|t,i,h,a)}function _c(e,t){return vi(8390656,8,e,t)}function fa(e,t){return yi(2048,8,e,t)}function xc(e,t){return yi(4,2,e,t)}function Sc(e,t){return yi(4,4,e,t)}function Ec(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kc(e,t,i){return i=i!=null?i.concat([e]):null,yi(4,4,Ec.bind(null,t,e),i)}function pa(){}function bc(e,t){var i=_t();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&la(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Cc(e,t){var i=_t();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&la(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Tc(e,t,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=i):(Ct(i,t)||(i=nu(),Ce.lanes|=i,Pr|=i,e.baseState=!0),t)}function hp(e,t){var i=ge;ge=i!==0&&4>i?i:4,e(!0);var a=aa.transition;aa.transition={};try{e(!1),t()}finally{ge=i,aa.transition=a}}function jc(){return _t().memoizedState}function fp(e,t,i){var a=pr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Rc(e))Oc(t,i);else if(i=oc(e,t,i,a),i!==null){var u=Ze();Nt(i,e,a,u),Nc(i,t,a)}}function pp(e,t,i){var a=pr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Oc(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var m=t.lastRenderedState,y=h(m,i);if(u.hasEagerState=!0,u.eagerState=y,Ct(y,m)){var x=t.interleaved;x===null?(u.next=u,ta(t)):(u.next=x.next,x.next=u),t.interleaved=u;return}}catch{}finally{}i=oc(e,t,u,a),i!==null&&(u=Ze(),Nt(i,e,a,u),Nc(i,t,a))}}function Rc(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Oc(e,t){ss=gi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nc(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,go(e,i)}}var wi={readContext:wt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},mp={readContext:wt,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:_c,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,vi(4194308,4,Ec.bind(null,t,e),i)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var i=zt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=zt();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=fp.bind(null,Ce,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:yc,useDebugValue:pa,useDeferredValue:function(e){return zt().memoizedState=e},useTransition:function(){var e=yc(!1),t=e[0];return e=hp.bind(null,e[1]),zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=Ce,u=zt();if(ke){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Me===null)throw Error(n(349));(Nr&30)!==0||fc(a,t,i)}u.memoizedState=i;var h={value:i,getSnapshot:t};return u.queue=h,_c(mc.bind(null,a,h,e),[e]),a.flags|=2048,as(9,pc.bind(null,a,h,i,t),void 0,null),i},useId:function(){var e=zt(),t=Me.identifierPrefix;if(ke){var i=Vt,a=Wt;i=(a&~(1<<32-bt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=is++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=dp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gp={readContext:wt,useCallback:bc,useContext:wt,useEffect:fa,useImperativeHandle:kc,useInsertionEffect:xc,useLayoutEffect:Sc,useMemo:Cc,useReducer:da,useRef:wc,useState:function(){return da(os)},useDebugValue:pa,useDeferredValue:function(e){var t=_t();return Tc(t,Ue.memoizedState,e)},useTransition:function(){var e=da(os)[0],t=_t().memoizedState;return[e,t]},useMutableSource:dc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1},vp={readContext:wt,useCallback:bc,useContext:wt,useEffect:fa,useImperativeHandle:kc,useInsertionEffect:xc,useLayoutEffect:Sc,useMemo:Cc,useReducer:ha,useRef:wc,useState:function(){return ha(os)},useDebugValue:pa,useDeferredValue:function(e){var t=_t();return Ue===null?t.memoizedState=e:Tc(t,Ue.memoizedState,e)},useTransition:function(){var e=ha(os)[0],t=_t().memoizedState;return[e,t]},useMutableSource:dc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function ma(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:V({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var _i={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Ze(),u=pr(e),h=Kt(a,u);h.payload=t,i!=null&&(h.callback=i),t=cr(e,h,u),t!==null&&(Nt(t,e,u,a),hi(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Ze(),u=pr(e),h=Kt(a,u);h.tag=1,h.payload=t,i!=null&&(h.callback=i),t=cr(e,h,u),t!==null&&(Nt(t,e,u,a),hi(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ze(),a=pr(e),u=Kt(i,a);u.tag=2,t!=null&&(u.callback=t),t=cr(e,u,a),t!==null&&(Nt(t,e,a,i),hi(t,e,a))}};function Pc(e,t,i,a,u,h,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,m):t.prototype&&t.prototype.isPureReactComponent?!Kn(i,a)||!Kn(u,h):!0}function Ac(e,t,i){var a=!1,u=ar,h=t.contextType;return typeof h=="object"&&h!==null?h=wt(h):(u=st(t)?Cr:He.current,a=t.contextTypes,h=(a=a!=null)?nn(e,u):ar),t=new t(i,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_i,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),t}function Ic(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function ga(e,t,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},ra(e);var h=t.contextType;typeof h=="object"&&h!==null?u.context=wt(h):(h=st(t)?Cr:He.current,u.context=nn(e,h)),u.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(ma(e,t,h,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&_i.enqueueReplaceState(u,u.state,null),fi(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var i="",a=t;do i+=he(a),a=a.return;while(a);var u=i}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:u,digest:null}}function va(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function ya(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var yp=typeof WeakMap=="function"?WeakMap:Map;function $c(e,t,i){i=Kt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){Ti||(Ti=!0,Aa=a),ya(e,t)},i}function Uc(e,t,i){i=Kt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;i.payload=function(){return a(u)},i.callback=function(){ya(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){ya(e,t),typeof a!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),i}function Lc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new yp;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(u.add(i),e=Pp.bind(null,e,t,i),t.then(e,e))}function Dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,i,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Kt(-1,1),t.tag=2,cr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var wp=A.ReactCurrentOwner,it=!1;function Xe(e,t,i,a){t.child=e===null?ic(t,null,i,a):ln(t,e.child,i,a)}function Mc(e,t,i,a,u){i=i.render;var h=t.ref;return cn(t,u),a=ua(e,t,i,a,h,u),i=ca(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(ke&&i&&Ho(t),t.flags|=1,Xe(e,t,a,u),t.child)}function Bc(e,t,i,a,u){if(e===null){var h=i.type;return typeof h=="function"&&!Ma(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=h,Fc(e,t,h,a,u)):(e=Ai(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&u)===0){var m=h.memoizedProps;if(i=i.compare,i=i!==null?i:Kn,i(m,a)&&e.ref===t.ref)return Gt(e,t,u)}return t.flags|=1,e=gr(h,a),e.ref=t.ref,e.return=t,t.child=e}function Fc(e,t,i,a,u){if(e!==null){var h=e.memoizedProps;if(Kn(h,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Gt(e,t,u)}return wa(e,t,i,a,u)}function qc(e,t,i){var a=t.pendingProps,u=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(pn,ft),ft|=i;else{if((i&1073741824)===0)return e=h!==null?h.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(pn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:i,we(pn,ft),ft|=a}else h!==null?(a=h.baseLanes|i,t.memoizedState=null):a=i,we(pn,ft),ft|=a;return Xe(e,t,u,i),t.child}function Wc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function wa(e,t,i,a,u){var h=st(i)?Cr:He.current;return h=nn(t,h),cn(t,u),i=ua(e,t,i,a,h,u),a=ca(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Gt(e,t,u)):(ke&&a&&Ho(t),t.flags|=1,Xe(e,t,i,u),t.child)}function Vc(e,t,i,a,u){if(st(i)){var h=!0;si(t)}else h=!1;if(cn(t,u),t.stateNode===null)Si(e,t),Ac(t,i,a),ga(t,i,a,u),a=!0;else if(e===null){var m=t.stateNode,y=t.memoizedProps;m.props=y;var x=m.context,O=i.contextType;typeof O=="object"&&O!==null?O=wt(O):(O=st(i)?Cr:He.current,O=nn(t,O));var D=i.getDerivedStateFromProps,z=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function";z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==a||x!==O)&&Ic(t,m,a,O),ur=!1;var $=t.memoizedState;m.state=$,fi(t,a,m,u),x=t.memoizedState,y!==a||$!==x||nt.current||ur?(typeof D=="function"&&(ma(t,i,D,a),x=t.memoizedState),(y=ur||Pc(t,i,y,a,$,x,O))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),m.props=a,m.state=x,m.context=O,a=y):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{m=t.stateNode,ac(e,t),y=t.memoizedProps,O=t.type===t.elementType?y:jt(t.type,y),m.props=O,z=t.pendingProps,$=m.context,x=i.contextType,typeof x=="object"&&x!==null?x=wt(x):(x=st(i)?Cr:He.current,x=nn(t,x));var q=i.getDerivedStateFromProps;(D=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==z||$!==x)&&Ic(t,m,a,x),ur=!1,$=t.memoizedState,m.state=$,fi(t,a,m,u);var H=t.memoizedState;y!==z||$!==H||nt.current||ur?(typeof q=="function"&&(ma(t,i,q,a),H=t.memoizedState),(O=ur||Pc(t,i,O,a,$,H,x)||!1)?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,H,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,H,x)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),m.props=a,m.state=H,m.context=x,a=O):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),a=!1)}return _a(e,t,i,a,h,u)}function _a(e,t,i,a,u,h){Wc(e,t);var m=(t.flags&128)!==0;if(!a&&!m)return u&&Ju(t,i,!1),Gt(e,t,h);a=t.stateNode,wp.current=t;var y=m&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&m?(t.child=ln(t,e.child,null,h),t.child=ln(t,null,y,h)):Xe(e,t,y,h),t.memoizedState=a.state,u&&Ju(t,i,!0),t.child}function Hc(e){var t=e.stateNode;t.pendingContext?Gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gu(e,t.context,!1),na(e,t.containerInfo)}function Kc(e,t,i,a,u){return an(),Jo(u),t.flags|=256,Xe(e,t,i,a),t.child}var xa={dehydrated:null,treeContext:null,retryLane:0};function Sa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gc(e,t,i){var a=t.pendingProps,u=be.current,h=!1,m=(t.flags&128)!==0,y;if((y=m)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),we(be,u&1),e===null)return Qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=a.children,e=a.fallback,h?(a=t.mode,h=t.child,m={mode:"hidden",children:m},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=Ii(m,a,0,null),e=Ur(e,a,i,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Sa(i),t.memoizedState=xa,e):Ea(t,m));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return _p(e,t,m,a,y,u,i);if(h){h=a.fallback,m=t.mode,u=e.child,y=u.sibling;var x={mode:"hidden",children:a.children};return(m&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=gr(u,x),a.subtreeFlags=u.subtreeFlags&14680064),y!==null?h=gr(y,h):(h=Ur(h,m,i,null),h.flags|=2),h.return=t,a.return=t,a.sibling=h,t.child=a,a=h,h=t.child,m=e.child.memoizedState,m=m===null?Sa(i):{baseLanes:m.baseLanes|i,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=e.childLanes&~i,t.memoizedState=xa,a}return h=e.child,e=h.sibling,a=gr(h,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Ea(e,t){return t=Ii({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xi(e,t,i,a){return a!==null&&Jo(a),ln(t,e.child,null,i),e=Ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _p(e,t,i,a,u,h,m){if(i)return t.flags&256?(t.flags&=-257,a=va(Error(n(422))),xi(e,t,m,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=a.fallback,u=t.mode,a=Ii({mode:"visible",children:a.children},u,0,null),h=Ur(h,u,m,null),h.flags|=2,a.return=t,h.return=t,a.sibling=h,t.child=a,(t.mode&1)!==0&&ln(t,e.child,null,m),t.child.memoizedState=Sa(m),t.memoizedState=xa,h);if((t.mode&1)===0)return xi(e,t,m,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var y=a.dgst;return a=y,h=Error(n(419)),a=va(h,a,void 0),xi(e,t,m,a)}if(y=(m&e.childLanes)!==0,it||y){if(a=Me,a!==null){switch(m&-m){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|m))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,Ht(e,u),Nt(a,e,u,-1))}return za(),a=va(Error(n(421))),xi(e,t,m,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Ap.bind(null,e),u._reactRetry=t,null):(e=h.treeContext,ht=ir(u.nextSibling),dt=t,ke=!0,Tt=null,e!==null&&(vt[yt++]=Wt,vt[yt++]=Vt,vt[yt++]=Tr,Wt=e.id,Vt=e.overflow,Tr=t),t=Ea(t,a.children),t.flags|=4096,t)}function Qc(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ea(e.return,t,i)}function ka(e,t,i,a,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=u)}function Jc(e,t,i){var a=t.pendingProps,u=a.revealOrder,h=a.tail;if(Xe(e,t,a.children,i),a=be.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qc(e,i,t);else if(e.tag===19)Qc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(we(be,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&pi(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),ka(t,!1,u,i,h);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&pi(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}ka(t,!0,i,null,h);break;case"together":ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Pr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=gr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=gr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function xp(e,t,i){switch(t.tag){case 3:Hc(t),an();break;case 5:cc(t);break;case 1:st(t.type)&&si(t);break;case 4:na(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;we(ci,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(we(be,be.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Gc(e,t,i):(we(be,be.current&1),e=Gt(e,t,i),e!==null?e.sibling:null);we(be,be.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Jc(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),we(be,be.current),a)break;return null;case 22:case 23:return t.lanes=0,qc(e,t,i)}return Gt(e,t,i)}var Yc,ba,Xc,Zc;Yc=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ba=function(){},Xc=function(e,t,i,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,Or(Dt.current);var h=null;switch(i){case"input":u=Zi(e,u),a=Zi(e,a),h=[];break;case"select":u=V({},u,{value:void 0}),a=V({},a,{value:void 0}),h=[];break;case"textarea":u=ro(e,u),a=ro(e,a),h=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ti)}so(i,a);var m;i=null;for(O in u)if(!a.hasOwnProperty(O)&&u.hasOwnProperty(O)&&u[O]!=null)if(O==="style"){var y=u[O];for(m in y)y.hasOwnProperty(m)&&(i||(i={}),i[m]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?h||(h=[]):(h=h||[]).push(O,null));for(O in a){var x=a[O];if(y=u!=null?u[O]:void 0,a.hasOwnProperty(O)&&x!==y&&(x!=null||y!=null))if(O==="style")if(y){for(m in y)!y.hasOwnProperty(m)||x&&x.hasOwnProperty(m)||(i||(i={}),i[m]="");for(m in x)x.hasOwnProperty(m)&&y[m]!==x[m]&&(i||(i={}),i[m]=x[m])}else i||(h||(h=[]),h.push(O,i)),i=x;else O==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,y=y?y.__html:void 0,x!=null&&y!==x&&(h=h||[]).push(O,x)):O==="children"?typeof x!="string"&&typeof x!="number"||(h=h||[]).push(O,""+x):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(x!=null&&O==="onScroll"&&xe("scroll",e),h||y===x||(h=[])):(h=h||[]).push(O,x))}i&&(h=h||[]).push("style",i);var O=h;(t.updateQueue=O)&&(t.flags|=4)}},Zc=function(e,t,i,a){i!==a&&(t.flags|=4)};function ls(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Sp(e,t,i){var a=t.pendingProps;switch(Ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return st(t.type)&&ni(),Ge(t),null;case 3:return a=t.stateNode,dn(),Se(nt),Se(He),oa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(li(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tt!==null&&(Ua(Tt),Tt=null))),ba(e,t),Ge(t),null;case 5:sa(t);var u=Or(ns.current);if(i=t.type,e!==null&&t.stateNode!=null)Xc(e,t,i,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(n(166));return Ge(t),null}if(e=Or(Dt.current),li(t)){a=t.stateNode,i=t.type;var h=t.memoizedProps;switch(a[Lt]=t,a[Xn]=h,e=(t.mode&1)!==0,i){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(u=0;u<Qn.length;u++)xe(Qn[u],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":Al(a,h),xe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},xe("invalid",a);break;case"textarea":Ul(a,h),xe("invalid",a)}so(i,h),u=null;for(var m in h)if(h.hasOwnProperty(m)){var y=h[m];m==="children"?typeof y=="string"?a.textContent!==y&&(h.suppressHydrationWarning!==!0&&ei(a.textContent,y,e),u=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(h.suppressHydrationWarning!==!0&&ei(a.textContent,y,e),u=["children",""+y]):l.hasOwnProperty(m)&&y!=null&&m==="onScroll"&&xe("scroll",a)}switch(i){case"input":Ns(a),$l(a,h,!0);break;case"textarea":Ns(a),Dl(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=ti)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{m=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zl(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(i,{is:a.is}):(e=m.createElement(i),i==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,i),e[Lt]=t,e[Xn]=a,Yc(e,t,!1,!1),t.stateNode=e;e:{switch(m=io(i,a),i){case"dialog":xe("cancel",e),xe("close",e),u=a;break;case"iframe":case"object":case"embed":xe("load",e),u=a;break;case"video":case"audio":for(u=0;u<Qn.length;u++)xe(Qn[u],e);u=a;break;case"source":xe("error",e),u=a;break;case"img":case"image":case"link":xe("error",e),xe("load",e),u=a;break;case"details":xe("toggle",e),u=a;break;case"input":Al(e,a),u=Zi(e,a),xe("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=V({},a,{value:void 0}),xe("invalid",e);break;case"textarea":Ul(e,a),u=ro(e,a),xe("invalid",e);break;default:u=a}so(i,u),y=u;for(h in y)if(y.hasOwnProperty(h)){var x=y[h];h==="style"?Fl(e,x):h==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Ml(e,x)):h==="children"?typeof x=="string"?(i!=="textarea"||x!=="")&&On(e,x):typeof x=="number"&&On(e,""+x):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?x!=null&&h==="onScroll"&&xe("scroll",e):x!=null&&P(e,h,x,m))}switch(i){case"input":Ns(e),$l(e,a,!1);break;case"textarea":Ns(e),Dl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+me(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?Vr(e,!!a.multiple,h,!1):a.defaultValue!=null&&Vr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ti)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Zc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(n(166));if(i=Or(ns.current),Or(Dt.current),li(t)){if(a=t.stateNode,i=t.memoizedProps,a[Lt]=t,(h=a.nodeValue!==i)&&(e=dt,e!==null))switch(e.tag){case 3:ei(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(a.nodeValue,i,(e.mode&1)!==0)}h&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Lt]=t,t.stateNode=a}return Ge(t),null;case 13:if(Se(be),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)rc(),an(),t.flags|=98560,h=!1;else if(h=li(t),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(n(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Lt]=t}else an(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),h=!1}else Tt!==null&&(Ua(Tt),Tt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(be.current&1)!==0?Le===0&&(Le=3):za())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return dn(),ba(e,t),e===null&&Jn(t.stateNode.containerInfo),Ge(t),null;case 10:return Zo(t.type._context),Ge(t),null;case 17:return st(t.type)&&ni(),Ge(t),null;case 19:if(Se(be),h=t.memoizedState,h===null)return Ge(t),null;if(a=(t.flags&128)!==0,m=h.rendering,m===null)if(a)ls(h,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=pi(e),m!==null){for(t.flags|=128,ls(h,!1),a=m.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)h=i,e=a,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,e=m.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return we(be,be.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ne()>mn&&(t.flags|=128,a=!0,ls(h,!1),t.lanes=4194304)}else{if(!a)if(e=pi(m),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),ls(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!ke)return Ge(t),null}else 2*Ne()-h.renderingStartTime>mn&&i!==1073741824&&(t.flags|=128,a=!0,ls(h,!1),t.lanes=4194304);h.isBackwards?(m.sibling=t.child,t.child=m):(i=h.last,i!==null?i.sibling=m:t.child=m,h.last=m)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ne(),t.sibling=null,i=be.current,we(be,a?i&1|2:i&1),t):(Ge(t),null);case 22:case 23:return Da(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Ep(e,t){switch(Ko(t),t.tag){case 1:return st(t.type)&&ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),Se(nt),Se(He),oa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return sa(t),null;case 13:if(Se(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(be),null;case 4:return dn(),null;case 10:return Zo(t.type._context),null;case 22:case 23:return Da(),null;case 24:return null;default:return null}}var Ei=!1,Qe=!1,kp=typeof WeakSet=="function"?WeakSet:Set,W=null;function fn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Re(e,t,a)}else i.current=null}function Ca(e,t,i){try{i()}catch(a){Re(e,t,a)}}var ed=!1;function bp(e,t){if(Do=qs,e=Pu(),Oo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var m=0,y=-1,x=-1,O=0,D=0,z=e,$=null;t:for(;;){for(var q;z!==i||u!==0&&z.nodeType!==3||(y=m+u),z!==h||a!==0&&z.nodeType!==3||(x=m+a),z.nodeType===3&&(m+=z.nodeValue.length),(q=z.firstChild)!==null;)$=z,z=q;for(;;){if(z===e)break t;if($===i&&++O===u&&(y=m),$===h&&++D===a&&(x=m),(q=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=q}i=y===-1||x===-1?null:{start:y,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(zo={focusedElem:e,selectionRange:i},qs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var K=H.memoizedProps,Pe=H.memoizedState,b=t.stateNode,S=b.getSnapshotBeforeUpdate(t.elementType===t.type?K:jt(t.type,K),Pe);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){Re(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return H=ed,ed=!1,H}function us(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&Ca(t,i,h)}u=u.next}while(u!==a)}}function ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ta(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function td(e){var t=e.alternate;t!==null&&(e.alternate=null,td(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Xn],delete t[qo],delete t[ap],delete t[lp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rd(e){return e.tag===5||e.tag===3||e.tag===4}function nd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ja(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ti));else if(a!==4&&(e=e.child,e!==null))for(ja(e,t,i),e=e.sibling;e!==null;)ja(e,t,i),e=e.sibling}function Ra(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ra(e,t,i),e=e.sibling;e!==null;)Ra(e,t,i),e=e.sibling}var Fe=null,Rt=!1;function dr(e,t,i){for(i=i.child;i!==null;)sd(e,t,i),i=i.sibling}function sd(e,t,i){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ls,i)}catch{}switch(i.tag){case 5:Qe||fn(i,t);case 6:var a=Fe,u=Rt;Fe=null,dr(e,t,i),Fe=a,Rt=u,Fe!==null&&(Rt?(e=Fe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Fe.removeChild(i.stateNode));break;case 18:Fe!==null&&(Rt?(e=Fe,i=i.stateNode,e.nodeType===8?Fo(e.parentNode,i):e.nodeType===1&&Fo(e,i),Bn(e)):Fo(Fe,i.stateNode));break;case 4:a=Fe,u=Rt,Fe=i.stateNode.containerInfo,Rt=!0,dr(e,t,i),Fe=a,Rt=u;break;case 0:case 11:case 14:case 15:if(!Qe&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var h=u,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&Ca(i,t,m),u=u.next}while(u!==a)}dr(e,t,i);break;case 1:if(!Qe&&(fn(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){Re(i,t,y)}dr(e,t,i);break;case 21:dr(e,t,i);break;case 22:i.mode&1?(Qe=(a=Qe)||i.memoizedState!==null,dr(e,t,i),Qe=a):dr(e,t,i);break;default:dr(e,t,i)}}function id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new kp),t.forEach(function(a){var u=Ip.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function Ot(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var h=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 5:Fe=y.stateNode,Rt=!1;break e;case 3:Fe=y.stateNode.containerInfo,Rt=!0;break e;case 4:Fe=y.stateNode.containerInfo,Rt=!0;break e}y=y.return}if(Fe===null)throw Error(n(160));sd(h,m,u),Fe=null,Rt=!1;var x=u.alternate;x!==null&&(x.return=null),u.return=null}catch(O){Re(u,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)od(t,e),t=t.sibling}function od(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Mt(e),a&4){try{us(3,e,e.return),ki(3,e)}catch(K){Re(e,e.return,K)}try{us(5,e,e.return)}catch(K){Re(e,e.return,K)}}break;case 1:Ot(t,e),Mt(e),a&512&&i!==null&&fn(i,i.return);break;case 5:if(Ot(t,e),Mt(e),a&512&&i!==null&&fn(i,i.return),e.flags&32){var u=e.stateNode;try{On(u,"")}catch(K){Re(e,e.return,K)}}if(a&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,m=i!==null?i.memoizedProps:h,y=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{y==="input"&&h.type==="radio"&&h.name!=null&&Il(u,h),io(y,m);var O=io(y,h);for(m=0;m<x.length;m+=2){var D=x[m],z=x[m+1];D==="style"?Fl(u,z):D==="dangerouslySetInnerHTML"?Ml(u,z):D==="children"?On(u,z):P(u,D,z,O)}switch(y){case"input":eo(u,h);break;case"textarea":Ll(u,h);break;case"select":var $=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var q=h.value;q!=null?Vr(u,!!h.multiple,q,!1):$!==!!h.multiple&&(h.defaultValue!=null?Vr(u,!!h.multiple,h.defaultValue,!0):Vr(u,!!h.multiple,h.multiple?[]:"",!1))}u[Xn]=h}catch(K){Re(e,e.return,K)}}break;case 6:if(Ot(t,e),Mt(e),a&4){if(e.stateNode===null)throw Error(n(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(K){Re(e,e.return,K)}}break;case 3:if(Ot(t,e),Mt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Bn(t.containerInfo)}catch(K){Re(e,e.return,K)}break;case 4:Ot(t,e),Mt(e);break;case 13:Ot(t,e),Mt(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(Pa=Ne())),a&4&&id(e);break;case 22:if(D=i!==null&&i.memoizedState!==null,e.mode&1?(Qe=(O=Qe)||D,Ot(t,e),Qe=O):Ot(t,e),Mt(e),a&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!D&&(e.mode&1)!==0)for(W=e,D=e.child;D!==null;){for(z=W=D;W!==null;){switch($=W,q=$.child,$.tag){case 0:case 11:case 14:case 15:us(4,$,$.return);break;case 1:fn($,$.return);var H=$.stateNode;if(typeof H.componentWillUnmount=="function"){a=$,i=$.return;try{t=a,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(K){Re(a,i,K)}}break;case 5:fn($,$.return);break;case 22:if($.memoizedState!==null){ud(z);continue}}q!==null?(q.return=$,W=q):ud(z)}D=D.sibling}e:for(D=null,z=e;;){if(z.tag===5){if(D===null){D=z;try{u=z.stateNode,O?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(y=z.stateNode,x=z.memoizedProps.style,m=x!=null&&x.hasOwnProperty("display")?x.display:null,y.style.display=Bl("display",m))}catch(K){Re(e,e.return,K)}}}else if(z.tag===6){if(D===null)try{z.stateNode.nodeValue=O?"":z.memoizedProps}catch(K){Re(e,e.return,K)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;D===z&&(D=null),z=z.return}D===z&&(D=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Ot(t,e),Mt(e),a&4&&id(e);break;case 21:break;default:Ot(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(rd(i)){var a=i;break e}i=i.return}throw Error(n(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(On(u,""),a.flags&=-33);var h=nd(e);Ra(e,h,u);break;case 3:case 4:var m=a.stateNode.containerInfo,y=nd(e);ja(e,y,m);break;default:throw Error(n(161))}}catch(x){Re(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cp(e,t,i){W=e,ad(e)}function ad(e,t,i){for(var a=(e.mode&1)!==0;W!==null;){var u=W,h=u.child;if(u.tag===22&&a){var m=u.memoizedState!==null||Ei;if(!m){var y=u.alternate,x=y!==null&&y.memoizedState!==null||Qe;y=Ei;var O=Qe;if(Ei=m,(Qe=x)&&!O)for(W=u;W!==null;)m=W,x=m.child,m.tag===22&&m.memoizedState!==null?cd(u):x!==null?(x.return=m,W=x):cd(u);for(;h!==null;)W=h,ad(h),h=h.sibling;W=u,Ei=y,Qe=O}ld(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,W=h):ld(e)}}function ld(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||ki(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Qe)if(i===null)a.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:jt(t.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&uc(t,h,a);break;case 3:var m=t.updateQueue;if(m!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}uc(t,m,i)}break;case 5:var y=t.stateNode;if(i===null&&t.flags&4){i=y;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&i.focus();break;case"img":x.src&&(i.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var D=O.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&Bn(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qe||t.flags&512&&Ta(t)}catch($){Re(t,t.return,$)}}if(t===e){W=null;break}if(i=t.sibling,i!==null){i.return=t.return,W=i;break}W=t.return}}function ud(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var i=t.sibling;if(i!==null){i.return=t.return,W=i;break}W=t.return}}function cd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{ki(4,t)}catch(x){Re(t,i,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(x){Re(t,u,x)}}var h=t.return;try{Ta(t)}catch(x){Re(t,h,x)}break;case 5:var m=t.return;try{Ta(t)}catch(x){Re(t,m,x)}}}catch(x){Re(t,t.return,x)}if(t===e){W=null;break}var y=t.sibling;if(y!==null){y.return=t.return,W=y;break}W=t.return}}var Tp=Math.ceil,bi=A.ReactCurrentDispatcher,Oa=A.ReactCurrentOwner,xt=A.ReactCurrentBatchConfig,de=0,Me=null,Ae=null,qe=0,ft=0,pn=or(0),Le=0,cs=null,Pr=0,Ci=0,Na=0,ds=null,ot=null,Pa=0,mn=1/0,Qt=null,Ti=!1,Aa=null,hr=null,ji=!1,fr=null,Ri=0,hs=0,Ia=null,Oi=-1,Ni=0;function Ze(){return(de&6)!==0?Ne():Oi!==-1?Oi:Oi=Ne()}function pr(e){return(e.mode&1)===0?1:(de&2)!==0&&qe!==0?qe&-qe:cp.transition!==null?(Ni===0&&(Ni=nu()),Ni):(e=ge,e!==0||(e=window.event,e=e===void 0?16:hu(e.type)),e)}function Nt(e,t,i,a){if(50<hs)throw hs=0,Ia=null,Error(n(185));Un(e,i,a),((de&2)===0||e!==Me)&&(e===Me&&((de&2)===0&&(Ci|=i),Le===4&&mr(e,qe)),at(e,a),i===1&&de===0&&(t.mode&1)===0&&(mn=Ne()+500,ii&&lr()))}function at(e,t){var i=e.callbackNode;cf(e,t);var a=Ms(e,e===Me?qe:0);if(a===0)i!==null&&eu(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&eu(i),t===1)e.tag===0?up(hd.bind(null,e)):Yu(hd.bind(null,e)),ip(function(){(de&6)===0&&lr()}),i=null;else{switch(su(a)){case 1:i=fo;break;case 4:i=tu;break;case 16:i=Us;break;case 536870912:i=ru;break;default:i=Us}i=_d(i,dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function dd(e,t){if(Oi=-1,Ni=0,(de&6)!==0)throw Error(n(327));var i=e.callbackNode;if(gn()&&e.callbackNode!==i)return null;var a=Ms(e,e===Me?qe:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Pi(e,a);else{t=a;var u=de;de|=2;var h=pd();(Me!==e||qe!==t)&&(Qt=null,mn=Ne()+500,Ir(e,t));do try{Op();break}catch(y){fd(e,y)}while(!0);Xo(),bi.current=h,de=u,Ae!==null?t=0:(Me=null,qe=0,t=Le)}if(t!==0){if(t===2&&(u=po(e),u!==0&&(a=u,t=$a(e,u))),t===1)throw i=cs,Ir(e,0),mr(e,a),at(e,Ne()),i;if(t===6)mr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!jp(u)&&(t=Pi(e,a),t===2&&(h=po(e),h!==0&&(a=h,t=$a(e,h))),t===1))throw i=cs,Ir(e,0),mr(e,a),at(e,Ne()),i;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(n(345));case 2:$r(e,ot,Qt);break;case 3:if(mr(e,a),(a&130023424)===a&&(t=Pa+500-Ne(),10<t)){if(Ms(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Ze(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Bo($r.bind(null,e,ot,Qt),t);break}$r(e,ot,Qt);break;case 4:if(mr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var m=31-bt(a);h=1<<m,m=t[m],m>u&&(u=m),a&=~h}if(a=u,a=Ne()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Tp(a/1960))-a,10<a){e.timeoutHandle=Bo($r.bind(null,e,ot,Qt),a);break}$r(e,ot,Qt);break;case 5:$r(e,ot,Qt);break;default:throw Error(n(329))}}}return at(e,Ne()),e.callbackNode===i?dd.bind(null,e):null}function $a(e,t){var i=ds;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=Pi(e,t),e!==2&&(t=ot,ot=i,t!==null&&Ua(t)),e}function Ua(e){ot===null?ot=e:ot.push.apply(ot,e)}function jp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],h=u.getSnapshot;u=u.value;try{if(!Ct(h(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mr(e,t){for(t&=~Na,t&=~Ci,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-bt(t),a=1<<i;e[i]=-1,t&=~a}}function hd(e){if((de&6)!==0)throw Error(n(327));gn();var t=Ms(e,0);if((t&1)===0)return at(e,Ne()),null;var i=Pi(e,t);if(e.tag!==0&&i===2){var a=po(e);a!==0&&(t=a,i=$a(e,a))}if(i===1)throw i=cs,Ir(e,0),mr(e,t),at(e,Ne()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,ot,Qt),at(e,Ne()),null}function La(e,t){var i=de;de|=1;try{return e(t)}finally{de=i,de===0&&(mn=Ne()+500,ii&&lr())}}function Ar(e){fr!==null&&fr.tag===0&&(de&6)===0&&gn();var t=de;de|=1;var i=xt.transition,a=ge;try{if(xt.transition=null,ge=1,e)return e()}finally{ge=a,xt.transition=i,de=t,(de&6)===0&&lr()}}function Da(){ft=pn.current,Se(pn)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,sp(i)),Ae!==null)for(i=Ae.return;i!==null;){var a=i;switch(Ko(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ni();break;case 3:dn(),Se(nt),Se(He),oa();break;case 5:sa(a);break;case 4:dn();break;case 13:Se(be);break;case 19:Se(be);break;case 10:Zo(a.type._context);break;case 22:case 23:Da()}i=i.return}if(Me=e,Ae=e=gr(e.current,null),qe=ft=t,Le=0,cs=null,Na=Ci=Pr=0,ot=ds=null,Rr!==null){for(t=0;t<Rr.length;t++)if(i=Rr[t],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,h=i.pending;if(h!==null){var m=h.next;h.next=u,a.next=m}i.pending=a}Rr=null}return e}function fd(e,t){do{var i=Ae;try{if(Xo(),mi.current=wi,gi){for(var a=Ce.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}gi=!1}if(Nr=0,ze=Ue=Ce=null,ss=!1,is=0,Oa.current=null,i===null||i.return===null){Le=1,cs=t,Ae=null;break}e:{var h=e,m=i.return,y=i,x=t;if(t=qe,y.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=x,D=y,z=D.tag;if((D.mode&1)===0&&(z===0||z===11||z===15)){var $=D.alternate;$?(D.updateQueue=$.updateQueue,D.memoizedState=$.memoizedState,D.lanes=$.lanes):(D.updateQueue=null,D.memoizedState=null)}var q=Dc(m);if(q!==null){q.flags&=-257,zc(q,m,y,h,t),q.mode&1&&Lc(h,O,t),t=q,x=O;var H=t.updateQueue;if(H===null){var K=new Set;K.add(x),t.updateQueue=K}else H.add(x);break e}else{if((t&1)===0){Lc(h,O,t),za();break e}x=Error(n(426))}}else if(ke&&y.mode&1){var Pe=Dc(m);if(Pe!==null){(Pe.flags&65536)===0&&(Pe.flags|=256),zc(Pe,m,y,h,t),Jo(hn(x,y));break e}}h=x=hn(x,y),Le!==4&&(Le=2),ds===null?ds=[h]:ds.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var b=$c(h,x,t);lc(h,b);break e;case 1:y=x;var S=h.type,T=h.stateNode;if((h.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(hr===null||!hr.has(T)))){h.flags|=65536,t&=-t,h.lanes|=t;var B=Uc(h,y,t);lc(h,B);break e}}h=h.return}while(h!==null)}gd(i)}catch(Q){t=Q,Ae===i&&i!==null&&(Ae=i=i.return);continue}break}while(!0)}function pd(){var e=bi.current;return bi.current=wi,e===null?wi:e}function za(){(Le===0||Le===3||Le===2)&&(Le=4),Me===null||(Pr&268435455)===0&&(Ci&268435455)===0||mr(Me,qe)}function Pi(e,t){var i=de;de|=2;var a=pd();(Me!==e||qe!==t)&&(Qt=null,Ir(e,t));do try{Rp();break}catch(u){fd(e,u)}while(!0);if(Xo(),de=i,bi.current=a,Ae!==null)throw Error(n(261));return Me=null,qe=0,Le}function Rp(){for(;Ae!==null;)md(Ae)}function Op(){for(;Ae!==null&&!ef();)md(Ae)}function md(e){var t=wd(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?gd(e):Ae=t,Oa.current=null}function gd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Sp(i,t,ft),i!==null){Ae=i;return}}else{if(i=Ep(i,t),i!==null){i.flags&=32767,Ae=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Le===0&&(Le=5)}function $r(e,t,i){var a=ge,u=xt.transition;try{xt.transition=null,ge=1,Np(e,t,i,a)}finally{xt.transition=u,ge=a}return null}function Np(e,t,i,a){do gn();while(fr!==null);if((de&6)!==0)throw Error(n(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(df(e,h),e===Me&&(Ae=Me=null,qe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||ji||(ji=!0,_d(Us,function(){return gn(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=xt.transition,xt.transition=null;var m=ge;ge=1;var y=de;de|=4,Oa.current=null,bp(e,i),od(i,e),Yf(zo),qs=!!Do,zo=Do=null,e.current=i,Cp(i),tf(),de=y,ge=m,xt.transition=h}else e.current=i;if(ji&&(ji=!1,fr=e,Ri=u),h=e.pendingLanes,h===0&&(hr=null),sf(i.stateNode),at(e,Ne()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(Ti)throw Ti=!1,e=Aa,Aa=null,e;return(Ri&1)!==0&&e.tag!==0&&gn(),h=e.pendingLanes,(h&1)!==0?e===Ia?hs++:(hs=0,Ia=e):hs=0,lr(),null}function gn(){if(fr!==null){var e=su(Ri),t=xt.transition,i=ge;try{if(xt.transition=null,ge=16>e?16:e,fr===null)var a=!1;else{if(e=fr,fr=null,Ri=0,(de&6)!==0)throw Error(n(331));var u=de;for(de|=4,W=e.current;W!==null;){var h=W,m=h.child;if((W.flags&16)!==0){var y=h.deletions;if(y!==null){for(var x=0;x<y.length;x++){var O=y[x];for(W=O;W!==null;){var D=W;switch(D.tag){case 0:case 11:case 15:us(8,D,h)}var z=D.child;if(z!==null)z.return=D,W=z;else for(;W!==null;){D=W;var $=D.sibling,q=D.return;if(td(D),D===O){W=null;break}if($!==null){$.return=q,W=$;break}W=q}}}var H=h.alternate;if(H!==null){var K=H.child;if(K!==null){H.child=null;do{var Pe=K.sibling;K.sibling=null,K=Pe}while(K!==null)}}W=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,W=m;else e:for(;W!==null;){if(h=W,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:us(9,h,h.return)}var b=h.sibling;if(b!==null){b.return=h.return,W=b;break e}W=h.return}}var S=e.current;for(W=S;W!==null;){m=W;var T=m.child;if((m.subtreeFlags&2064)!==0&&T!==null)T.return=m,W=T;else e:for(m=S;W!==null;){if(y=W,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:ki(9,y)}}catch(Q){Re(y,y.return,Q)}if(y===m){W=null;break e}var B=y.sibling;if(B!==null){B.return=y.return,W=B;break e}W=y.return}}if(de=u,lr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ls,e)}catch{}a=!0}return a}finally{ge=i,xt.transition=t}}return!1}function vd(e,t,i){t=hn(i,t),t=$c(e,t,1),e=cr(e,t,1),t=Ze(),e!==null&&(Un(e,1,t),at(e,t))}function Re(e,t,i){if(e.tag===3)vd(e,e,i);else for(;t!==null;){if(t.tag===3){vd(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hr===null||!hr.has(a))){e=hn(i,e),e=Uc(t,e,1),t=cr(t,e,1),e=Ze(),t!==null&&(Un(t,1,e),at(t,e));break}}t=t.return}}function Pp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&i,Me===e&&(qe&i)===i&&(Le===4||Le===3&&(qe&130023424)===qe&&500>Ne()-Pa?Ir(e,0):Na|=i),at(e,t)}function yd(e,t){t===0&&((e.mode&1)===0?t=1:(t=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var i=Ze();e=Ht(e,t),e!==null&&(Un(e,t,i),at(e,i))}function Ap(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),yd(e,i)}function Ip(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(n(314))}a!==null&&a.delete(t),yd(e,i)}var wd;wd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)it=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return it=!1,xp(e,t,i);it=(e.flags&131072)!==0}else it=!1,ke&&(t.flags&1048576)!==0&&Xu(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Si(e,t),e=t.pendingProps;var u=nn(t,He.current);cn(t,i),u=ua(null,t,a,e,u,i);var h=ca();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(a)?(h=!0,si(t)):h=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ra(t),u.updater=_i,t.stateNode=u,u._reactInternals=t,ga(t,a,e,i),t=_a(null,t,a,!0,h,i)):(t.tag=0,ke&&h&&Ho(t),Xe(null,t,u,i),t=t.child),t;case 16:a=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=Up(a),e=jt(a,e),u){case 0:t=wa(null,t,a,e,i);break e;case 1:t=Vc(null,t,a,e,i);break e;case 11:t=Mc(null,t,a,e,i);break e;case 14:t=Bc(null,t,a,jt(a.type,e),i);break e}throw Error(n(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),wa(e,t,a,u,i);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),Vc(e,t,a,u,i);case 3:e:{if(Hc(t),e===null)throw Error(n(387));a=t.pendingProps,h=t.memoizedState,u=h.element,ac(e,t),fi(t,a,null,i);var m=t.memoizedState;if(a=m.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){u=hn(Error(n(423)),t),t=Kc(e,t,a,i,u);break e}else if(a!==u){u=hn(Error(n(424)),t),t=Kc(e,t,a,i,u);break e}else for(ht=ir(t.stateNode.containerInfo.firstChild),dt=t,ke=!0,Tt=null,i=ic(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(an(),a===u){t=Gt(e,t,i);break e}Xe(e,t,a,i)}t=t.child}return t;case 5:return cc(t),e===null&&Qo(t),a=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,m=u.children,Mo(a,u)?m=null:h!==null&&Mo(a,h)&&(t.flags|=32),Wc(e,t),Xe(e,t,m,i),t.child;case 6:return e===null&&Qo(t),null;case 13:return Gc(e,t,i);case 4:return na(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ln(t,null,a,i):Xe(e,t,a,i),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),Mc(e,t,a,u,i);case 7:return Xe(e,t,t.pendingProps,i),t.child;case 8:return Xe(e,t,t.pendingProps.children,i),t.child;case 12:return Xe(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,h=t.memoizedProps,m=u.value,we(ci,a._currentValue),a._currentValue=m,h!==null)if(Ct(h.value,m)){if(h.children===u.children&&!nt.current){t=Gt(e,t,i);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var y=h.dependencies;if(y!==null){m=h.child;for(var x=y.firstContext;x!==null;){if(x.context===a){if(h.tag===1){x=Kt(-1,i&-i),x.tag=2;var O=h.updateQueue;if(O!==null){O=O.shared;var D=O.pending;D===null?x.next=x:(x.next=D.next,D.next=x),O.pending=x}}h.lanes|=i,x=h.alternate,x!==null&&(x.lanes|=i),ea(h.return,i,t),y.lanes|=i;break}x=x.next}}else if(h.tag===10)m=h.type===t.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(n(341));m.lanes|=i,y=m.alternate,y!==null&&(y.lanes|=i),ea(m,i,t),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===t){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}Xe(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,cn(t,i),u=wt(u),a=a(u),t.flags|=1,Xe(e,t,a,i),t.child;case 14:return a=t.type,u=jt(a,t.pendingProps),u=jt(a.type,u),Bc(e,t,a,u,i);case 15:return Fc(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:jt(a,u),Si(e,t),t.tag=1,st(a)?(e=!0,si(t)):e=!1,cn(t,i),Ac(t,a,u),ga(t,a,u,i),_a(null,t,a,!0,e,i);case 19:return Jc(e,t,i);case 22:return qc(e,t,i)}throw Error(n(156,t.tag))};function _d(e,t){return Zl(e,t)}function $p(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,i,a){return new $p(e,t,i,a)}function Ma(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Up(e){if(typeof e=="function")return Ma(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tt)return 11;if(e===$t)return 14}return 2}function gr(e,t){var i=e.alternate;return i===null?(i=St(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ai(e,t,i,a,u,h){var m=2;if(a=e,typeof e=="function")Ma(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case se:return Ur(i.children,u,h,t);case ie:m=8,u|=8;break;case ae:return e=St(12,i,t,u|2),e.elementType=ae,e.lanes=h,e;case Ye:return e=St(13,i,t,u),e.elementType=Ye,e.lanes=h,e;case kt:return e=St(19,i,t,u),e.elementType=kt,e.lanes=h,e;case je:return Ii(i,u,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ve:m=10;break e;case et:m=9;break e;case tt:m=11;break e;case $t:m=14;break e;case rt:m=16,a=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=St(m,i,t,u),t.elementType=e,t.type=a,t.lanes=h,t}function Ur(e,t,i,a){return e=St(7,e,a,t),e.lanes=i,e}function Ii(e,t,i,a){return e=St(22,e,a,t),e.elementType=je,e.lanes=i,e.stateNode={isHidden:!1},e}function Ba(e,t,i){return e=St(6,e,null,t),e.lanes=i,e}function Fa(e,t,i){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lp(e,t,i,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function qa(e,t,i,a,u,h,m,y,x){return e=new Lp(e,t,i,y,x),t===1?(t=1,h===!0&&(t|=8)):t=0,h=St(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ra(h),e}function Dp(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function xd(e){if(!e)return ar;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(st(i))return Qu(e,i,t)}return t}function Sd(e,t,i,a,u,h,m,y,x){return e=qa(i,a,!0,e,u,h,m,y,x),e.context=xd(null),i=e.current,a=Ze(),u=pr(i),h=Kt(a,u),h.callback=t??null,cr(i,h,u),e.current.lanes=u,Un(e,u,a),at(e,a),e}function $i(e,t,i,a){var u=t.current,h=Ze(),m=pr(u);return i=xd(i),t.context===null?t.context=i:t.pendingContext=i,t=Kt(h,m),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=cr(u,t,m),e!==null&&(Nt(e,u,m,h),hi(e,u,m)),m}function Ui(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Wa(e,t){Ed(e,t),(e=e.alternate)&&Ed(e,t)}function zp(){return null}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Va(e){this._internalRoot=e}Li.prototype.render=Va.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));$i(e,t,null,null)},Li.prototype.unmount=Va.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){$i(null,e,null,null)}),t[Ft]=null}};function Li(e){this._internalRoot=e}Li.prototype.unstable_scheduleHydration=function(e){if(e){var t=au();e={blockedOn:null,target:e,priority:t};for(var i=0;i<rr.length&&t!==0&&t<rr[i].priority;i++);rr.splice(i,0,e),i===0&&cu(e)}};function Ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bd(){}function Mp(e,t,i,a,u){if(u){if(typeof a=="function"){var h=a;a=function(){var O=Ui(m);h.call(O)}}var m=Sd(t,a,e,0,null,!1,!1,"",bd);return e._reactRootContainer=m,e[Ft]=m.current,Jn(e.nodeType===8?e.parentNode:e),Ar(),m}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var y=a;a=function(){var O=Ui(x);y.call(O)}}var x=qa(e,0,!1,null,null,!1,!1,"",bd);return e._reactRootContainer=x,e[Ft]=x.current,Jn(e.nodeType===8?e.parentNode:e),Ar(function(){$i(t,x,i,a)}),x}function zi(e,t,i,a,u){var h=i._reactRootContainer;if(h){var m=h;if(typeof u=="function"){var y=u;u=function(){var x=Ui(m);y.call(x)}}$i(t,m,e,u)}else m=Mp(i,t,e,u,a);return Ui(m)}iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=$n(t.pendingLanes);i!==0&&(go(t,i|1),at(t,Ne()),(de&6)===0&&(mn=Ne()+500,lr()))}break;case 13:Ar(function(){var a=Ht(e,1);if(a!==null){var u=Ze();Nt(a,e,1,u)}}),Wa(e,1)}},vo=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var i=Ze();Nt(t,e,134217728,i)}Wa(e,134217728)}},ou=function(e){if(e.tag===13){var t=pr(e),i=Ht(e,t);if(i!==null){var a=Ze();Nt(i,e,t,a)}Wa(e,t)}},au=function(){return ge},lu=function(e,t){var i=ge;try{return ge=e,t()}finally{ge=i}},lo=function(e,t,i){switch(t){case"input":if(eo(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=ri(a);if(!u)throw Error(n(90));Pl(a),eo(a,u)}}}break;case"textarea":Ll(e,i);break;case"select":t=i.value,t!=null&&Vr(e,!!i.multiple,t,!1)}},Hl=La,Kl=Ar;var Bp={usingClientEntryPoint:!1,Events:[Zn,tn,ri,Wl,Vl,La]},fs={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fp={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yl(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi.isDisabled&&Mi.supportsFiber)try{Ls=Mi.inject(Fp),Ut=Mi}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp,lt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ha(t))throw Error(n(200));return Dp(e,t,null,i)},lt.createRoot=function(e,t){if(!Ha(e))throw Error(n(299));var i=!1,a="",u=kd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=qa(e,1,!1,null,null,i,!1,a,u),e[Ft]=t.current,Jn(e.nodeType===8?e.parentNode:e),new Va(t)},lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Yl(t),e=e===null?null:e.stateNode,e},lt.flushSync=function(e){return Ar(e)},lt.hydrate=function(e,t,i){if(!Di(t))throw Error(n(200));return zi(null,e,t,!0,i)},lt.hydrateRoot=function(e,t,i){if(!Ha(e))throw Error(n(405));var a=i!=null&&i.hydratedSources||null,u=!1,h="",m=kd;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),t=Sd(t,null,e,1,i??null,u,!1,h,m),e[Ft]=t.current,Jn(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new Li(t)},lt.render=function(e,t,i){if(!Di(t))throw Error(n(200));return zi(null,e,t,!1,i)},lt.unmountComponentAtNode=function(e){if(!Di(e))throw Error(n(40));return e._reactRootContainer?(Ar(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1},lt.unstable_batchedUpdates=La,lt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Di(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return zi(e,t,i,!1,a)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var Ad;function ph(){if(Ad)return Qa.exports;Ad=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Qa.exports=Zp(),Qa.exports}var Id;function em(){if(Id)return Bi;Id=1;var s=ph();return Bi.createRoot=s.createRoot,Bi.hydrateRoot=s.hydrateRoot,Bi}var tm=em();ph();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},ys.apply(this,arguments)}var _r;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(_r||(_r={}));const $d="popstate";function rm(s){s===void 0&&(s={});function r(o,l){let{pathname:c,search:d,hash:f}=o.location;return ll("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:mh(l)}return sm(r,n,null,s)}function $e(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function El(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function nm(){return Math.random().toString(36).substr(2,8)}function Ud(s,r){return{usr:s.state,key:s.key,idx:r}}function ll(s,r,n,o){return n===void 0&&(n=null),ys({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?jn(r):r,{state:n,key:r&&r.key||o||nm()})}function mh(s){let{pathname:r="/",search:n="",hash:o=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function jn(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let o=s.indexOf("?");o>=0&&(r.search=s.substr(o),s=s.substr(0,o)),s&&(r.pathname=s)}return r}function sm(s,r,n,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,d=l.history,f=_r.Pop,p=null,v=_();v==null&&(v=0,d.replaceState(ys({},d.state,{idx:v}),""));function _(){return(d.state||{idx:null}).idx}function w(){f=_r.Pop;let R=_(),U=R==null?null:R-v;v=R,p&&p({action:f,location:j.location,delta:U})}function E(R,U){f=_r.Push;let M=ll(j.location,R,U);v=_()+1;let P=Ud(M,v),A=j.createHref(M);try{d.pushState(P,"",A)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign(A)}c&&p&&p({action:f,location:j.location,delta:1})}function C(R,U){f=_r.Replace;let M=ll(j.location,R,U);v=_();let P=Ud(M,v),A=j.createHref(M);d.replaceState(P,"",A),c&&p&&p({action:f,location:j.location,delta:0})}function N(R){let U=l.location.origin!=="null"?l.location.origin:l.location.href,M=typeof R=="string"?R:mh(R);return M=M.replace(/ $/,"%20"),$e(U,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,U)}let j={get action(){return f},get location(){return s(l,d)},listen(R){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener($d,w),p=R,()=>{l.removeEventListener($d,w),p=null}},createHref(R){return r(l,R)},createURL:N,encodeLocation(R){let U=N(R);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:C,go(R){return d.go(R)}};return j}var Ld;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Ld||(Ld={}));function im(s,r,n){return n===void 0&&(n="/"),om(s,r,n)}function om(s,r,n,o){let l=typeof r=="string"?jn(r):r,c=yh(l.pathname||"/",n);if(c==null)return null;let d=gh(s);am(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let v=wm(c);f=gm(d[p],v)}return f}function gh(s,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let l=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&($e(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let v=qr([o,p.relativePath]),_=n.concat(p);c.children&&c.children.length>0&&($e(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),gh(c.children,r,_,v)),!(c.path==null&&!c.index)&&r.push({path:v,score:pm(v,c.index),routesMeta:_})};return s.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of vh(c.path))l(c,d,p)}),r}function vh(s){let r=s.split("/");if(r.length===0)return[];let[n,...o]=r,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let d=vh(o.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),l&&f.push(...d),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function am(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:mm(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const lm=/^:[\w-]+$/,um=3,cm=2,dm=1,hm=10,fm=-2,Dd=s=>s==="*";function pm(s,r){let n=s.split("/"),o=n.length;return n.some(Dd)&&(o+=fm),r&&(o+=cm),n.filter(l=>!Dd(l)).reduce((l,c)=>l+(lm.test(c)?um:c===""?dm:hm),o)}function mm(s,r){return s.length===r.length&&s.slice(0,-1).every((o,l)=>o===r[l])?s[s.length-1]-r[r.length-1]:0}function gm(s,r,n){let{routesMeta:o}=s,l={},c="/",d=[];for(let f=0;f<o.length;++f){let p=o[f],v=f===o.length-1,_=c==="/"?r:r.slice(c.length)||"/",w=vm({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},_),E=p.route;if(!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:qr([c,w.pathname]),pathnameBase:km(qr([c,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(c=qr([c,w.pathnameBase]))}return d}function vm(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,o]=ym(s.path,s.caseSensitive,s.end),l=r.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((v,_,w)=>{let{paramName:E,isOptional:C}=_;if(E==="*"){let j=f[w]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const N=f[w];return C&&!N?v[E]=void 0:v[E]=(N||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:d,pattern:s}}function ym(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),El(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function wm(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return El(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function yh(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=s.charAt(n);return o&&o!=="/"?null:s.slice(n)||"/"}const _m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xm=s=>_m.test(s);function Sm(s,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:l=""}=typeof s=="string"?jn(s):s,c;if(n)if(xm(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),El(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?c=zd(n.substring(1),"/"):c=zd(n,r)}else c=r;return{pathname:c,search:bm(o),hash:Cm(l)}}function zd(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Xa(s,r,n,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Em(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function wh(s,r){let n=Em(s);return r?n.map((o,l)=>l===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function _h(s,r,n,o){o===void 0&&(o=!1);let l;typeof s=="string"?l=jn(s):(l=ys({},s),$e(!l.pathname||!l.pathname.includes("?"),Xa("?","pathname","search",l)),$e(!l.pathname||!l.pathname.includes("#"),Xa("#","pathname","hash",l)),$e(!l.search||!l.search.includes("#"),Xa("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=n;else{let w=r.length-1;if(!o&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),w-=1;l.pathname=E.join("/")}f=w>=0?r[w]:"/"}let p=Sm(l,f),v=d&&d!=="/"&&d.endsWith("/"),_=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||_)&&(p.pathname+="/"),p}const qr=s=>s.join("/").replace(/\/\/+/g,"/"),km=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bm=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Cm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Tm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const xh=["post","put","patch","delete"];new Set(xh);const jm=["get",...xh];new Set(jm);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o])}return s},ws.apply(this,arguments)}const kl=I.createContext(null),Rm=I.createContext(null),Cs=I.createContext(null),Qi=I.createContext(null),xr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Sh=I.createContext(null);function Ts(){return I.useContext(Qi)!=null}function bl(){return Ts()||$e(!1),I.useContext(Qi).location}function Eh(s){I.useContext(Cs).static||I.useLayoutEffect(s)}function Sr(){let{isDataRoute:s}=I.useContext(xr);return s?Fm():Om()}function Om(){Ts()||$e(!1);let s=I.useContext(kl),{basename:r,future:n,navigator:o}=I.useContext(Cs),{matches:l}=I.useContext(xr),{pathname:c}=bl(),d=JSON.stringify(wh(l,n.v7_relativeSplatPath)),f=I.useRef(!1);return Eh(()=>{f.current=!0}),I.useCallback(function(v,_){if(_===void 0&&(_={}),!f.current)return;if(typeof v=="number"){o.go(v);return}let w=_h(v,JSON.parse(d),c,_.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:qr([r,w.pathname])),(_.replace?o.replace:o.push)(w,_.state,_)},[r,o,d,c,s])}function js(){let{matches:s}=I.useContext(xr),r=s[s.length-1];return r?r.params:{}}function Nm(s,r){return Pm(s,r)}function Pm(s,r,n,o){Ts()||$e(!1);let{navigator:l}=I.useContext(Cs),{matches:c}=I.useContext(xr),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let v=bl(),_;if(r){var w;let R=typeof r=="string"?jn(r):r;p==="/"||(w=R.pathname)!=null&&w.startsWith(p)||$e(!1),_=R}else _=v;let E=_.pathname||"/",C=E;if(p!=="/"){let R=p.replace(/^\//,"").split("/");C="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=im(s,{pathname:C}),j=Lm(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:qr([p,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:qr([p,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,o);return r&&j?I.createElement(Qi.Provider,{value:{location:ws({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:_r.Pop}},j):j}function Am(){let s=Bm(),r=Tm(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},r),n?I.createElement("pre",{style:l},n):null,null)}const Im=I.createElement(Am,null);class $m extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?I.createElement(xr.Provider,{value:this.props.routeContext},I.createElement(Sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Um(s){let{routeContext:r,match:n,children:o}=s,l=I.useContext(kl);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(xr.Provider,{value:r},o)}function Lm(s,r,n,o){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),s==null){var c;if(!n)return null;if(n.errors)s=n.matches;else if((c=o)!=null&&c.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let d=s,f=(l=n)==null?void 0:l.errors;if(f!=null){let _=d.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);_>=0||$e(!1),d=d.slice(0,Math.min(d.length,_+1))}let p=!1,v=-1;if(n&&o&&o.v7_partialHydration)for(let _=0;_<d.length;_++){let w=d[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=_),w.route.id){let{loaderData:E,errors:C}=n,N=w.route.loader&&E[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||N){p=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((_,w,E)=>{let C,N=!1,j=null,R=null;n&&(C=f&&w.route.id?f[w.route.id]:void 0,j=w.route.errorElement||Im,p&&(v<0&&E===0?(qm("route-fallback"),N=!0,R=null):v===E&&(N=!0,R=w.route.hydrateFallbackElement||null)));let U=r.concat(d.slice(0,E+1)),M=()=>{let P;return C?P=j:N?P=R:w.route.Component?P=I.createElement(w.route.Component,null):w.route.element?P=w.route.element:P=_,I.createElement(Um,{match:w,routeContext:{outlet:_,matches:U,isDataRoute:n!=null},children:P})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?I.createElement($m,{location:n.location,revalidation:n.revalidation,component:j,error:C,children:M(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):M()},null)}var kh=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(kh||{}),bh=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(bh||{});function Dm(s){let r=I.useContext(kl);return r||$e(!1),r}function zm(s){let r=I.useContext(Rm);return r||$e(!1),r}function Mm(s){let r=I.useContext(xr);return r||$e(!1),r}function Ch(s){let r=Mm(),n=r.matches[r.matches.length-1];return n.route.id||$e(!1),n.route.id}function Bm(){var s;let r=I.useContext(Sh),n=zm(),o=Ch();return r!==void 0?r:(s=n.errors)==null?void 0:s[o]}function Fm(){let{router:s}=Dm(kh.UseNavigateStable),r=Ch(bh.UseNavigateStable),n=I.useRef(!1);return Eh(()=>{n.current=!0}),I.useCallback(function(l,c){c===void 0&&(c={}),n.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,ws({fromRouteId:r},c)))},[s,r])}const Md={};function qm(s,r,n){Md[s]||(Md[s]=!0)}function Wm(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Vm(s){let{to:r,replace:n,state:o,relative:l}=s;Ts()||$e(!1);let{future:c,static:d}=I.useContext(Cs),{matches:f}=I.useContext(xr),{pathname:p}=bl(),v=Sr(),_=_h(r,wh(f,c.v7_relativeSplatPath),p,l==="path"),w=JSON.stringify(_);return I.useEffect(()=>v(JSON.parse(w),{replace:n,state:o,relative:l}),[v,w,l,n,o]),null}function Jt(s){$e(!1)}function Hm(s){let{basename:r="/",children:n=null,location:o,navigationType:l=_r.Pop,navigator:c,static:d=!1,future:f}=s;Ts()&&$e(!1);let p=r.replace(/^\/*/,"/"),v=I.useMemo(()=>({basename:p,navigator:c,static:d,future:ws({v7_relativeSplatPath:!1},f)}),[p,f,c,d]);typeof o=="string"&&(o=jn(o));let{pathname:_="/",search:w="",hash:E="",state:C=null,key:N="default"}=o,j=I.useMemo(()=>{let R=yh(_,p);return R==null?null:{location:{pathname:R,search:w,hash:E,state:C,key:N},navigationType:l}},[p,_,w,E,C,N,l]);return j==null?null:I.createElement(Cs.Provider,{value:v},I.createElement(Qi.Provider,{children:n,value:j}))}function Km(s){let{children:r,location:n}=s;return Nm(ul(r),n)}new Promise(()=>{});function ul(s,r){r===void 0&&(r=[]);let n=[];return I.Children.forEach(s,(o,l)=>{if(!I.isValidElement(o))return;let c=[...r,l];if(o.type===I.Fragment){n.push.apply(n,ul(o.props.children,c));return}o.type!==Jt&&$e(!1),!o.props.index||!o.props.children||$e(!1);let d={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=ul(o.props.children,c)),n.push(d)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Gm="6";try{window.__reactRouterVersion=Gm}catch{}const Qm="startTransition",Bd=Jp[Qm];function Jm(s){let{basename:r,children:n,future:o,window:l}=s,c=I.useRef();c.current==null&&(c.current=rm({window:l,v5Compat:!0}));let d=c.current,[f,p]=I.useState({action:d.action,location:d.location}),{v7_startTransition:v}=o||{},_=I.useCallback(w=>{v&&Bd?Bd(()=>p(w)):p(w)},[p,v]);return I.useLayoutEffect(()=>d.listen(_),[d,_]),I.useEffect(()=>Wm(o),[o]),I.createElement(Hm,{basename:r,children:n,location:f.location,navigationType:f.action,navigator:d,future:o})}var Fd;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Fd||(Fd={}));var qd;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(qd||(qd={}));function Ji(s,r){var n={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&r.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(s);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(s,o[l])&&(n[o[l]]=s[o[l]]);return n}function Ym(s,r,n,o){function l(c){return c instanceof n?c:new n(function(d){d(c)})}return new(n||(n=Promise))(function(c,d){function f(_){try{v(o.next(_))}catch(w){d(w)}}function p(_){try{v(o.throw(_))}catch(w){d(w)}}function v(_){_.done?c(_.value):l(_.value).then(f,p)}v((o=o.apply(s,r||[])).next())})}const Xm=s=>s?(...r)=>s(...r):(...r)=>fetch(...r);class Cl extends Error{constructor(r,n="FunctionsError",o){super(r),this.name=n,this.context=o}}class Zm extends Cl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Wd extends Cl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Vd extends Cl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var cl;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(cl||(cl={}));class eg{constructor(r,{headers:n={},customFetch:o,region:l=cl.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Xm(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Ym(this,arguments,void 0,function*(n,o={}){var l;let c,d;try{const{headers:f,method:p,body:v,signal:_,timeout:w}=o;let E={},{region:C}=o;C||(C=this.region);const N=new URL(`${this.url}/${n}`);C&&C!=="any"&&(E["x-region"]=C,N.searchParams.set("forceFunctionRegion",C));let j;v&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",j=v):typeof v=="string"?(E["Content-Type"]="text/plain",j=v):typeof FormData<"u"&&v instanceof FormData?j=v:(E["Content-Type"]="application/json",j=JSON.stringify(v)):j=v;let R=_;w&&(d=new AbortController,c=setTimeout(()=>d.abort(),w),_?(R=d.signal,_.addEventListener("abort",()=>d.abort())):R=d.signal);const U=yield this.fetch(N.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),f),body:j,signal:R}).catch(Z=>{throw new Zm(Z)}),M=U.headers.get("x-relay-error");if(M&&M==="true")throw new Wd(U);if(!U.ok)throw new Vd(U);let P=((l=U.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),A;return P==="application/json"?A=yield U.json():P==="application/octet-stream"||P==="application/pdf"?A=yield U.blob():P==="text/event-stream"?A=U:P==="multipart/form-data"?A=yield U.formData():A=yield U.text(),{data:A,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof Vd||f instanceof Wd?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var tg=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},rg=class{constructor(s){var r,n;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(r=s.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=s.signal,this.isMaybeSingle=(n=s.isMaybeSingle)!==null&&n!==void 0?n:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=new Headers(this.headers),this.headers.set(s,r),this}then(s,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,f=null,p=null,v=c.status,_=c.statusText;if(c.ok){var w,E;if(n.method!=="HEAD"){var C;const U=await c.text();U===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((C=n.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const j=(w=n.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),R=(E=c.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");j&&R&&R.length>1&&(p=parseInt(R[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,v=406,_="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var N;const j=await c.text();try{d=JSON.parse(j),Array.isArray(d)&&c.status===404&&(f=[],d=null,v=200,_="OK")}catch{c.status===404&&j===""?(v=204,_="No Content"):d={message:j}}if(d&&n.isMaybeSingle&&(!(d==null||(N=d.details)===null||N===void 0)&&N.includes("0 rows"))&&(d=null,v=200,_="OK"),d&&n.shouldThrowOnError)throw new tg(d)}return{error:d,data:f,count:p,status:v,statusText:_}});return this.shouldThrowOnError||(l=l.catch(c=>{var d;let f="";const p=c==null?void 0:c.cause;if(p){var v,_,w,E;const N=(v=p==null?void 0:p.message)!==null&&v!==void 0?v:"",j=(_=p==null?void 0:p.code)!==null&&_!==void 0?_:"";f=`${(w=c==null?void 0:c.name)!==null&&w!==void 0?w:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(E=p==null?void 0:p.name)!==null&&E!==void 0?E:"Error"}: ${N}`,j&&(f+=` (${j})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var C;f=(C=c==null?void 0:c.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,r)}returns(){return this}overrideTypes(){return this}},ng=class extends rg{select(s){let r=!1;const n=(s??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:o=n}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var d;const f=[s?"analyze":null,r?"verbose":null,n?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Hd=new RegExp("[,()]");var En=class extends ng{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}regexMatch(s,r){return this.url.searchParams.append(s,`match.${r}`),this}regexIMatch(s,r){return this.url.searchParams.append(s,`imatch.${r}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}isDistinct(s,r){return this.url.searchParams.append(s,`isdistinct.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&Hd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}notIn(s,r){const n=Array.from(new Set(r)).map(o=>typeof o=="string"&&Hd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${l}fts${c}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}},sg=class{constructor(s,{headers:r={},schema:n,fetch:o}){this.url=s,this.headers=new Headers(r),this.schema=n,this.fetch=o}select(s,r){const{head:n=!1,count:o}=r??{},l=n?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new En({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:r,defaultToNull:n=!0}={}){var o;const l="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new En({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:o,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(f.length>0){const p=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new En({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:r}={}){var n;const o="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new En({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:s}={}){var r;const n="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new En({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},ig=class Th{constructor(r,{headers:n={},schema:o,fetch:l}={}){this.url=r,this.headers=new Headers(n),this.schemaName=o,this.fetch=l}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new Th(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:o=!1,get:l=!1,count:c}={}){var d;let f;const p=new URL(`${this.url}/rpc/${r}`);let v;o||l?(f=o?"HEAD":"GET",Object.entries(n).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{p.searchParams.append(w,E)})):(f="POST",v=n);const _=new Headers(this.headers);return c&&_.set("Prefer",`count=${c}`),new En({method:f,url:p,headers:_,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class og{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const o=this.getWebSocketConstructor();return new o(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const ag="2.89.0",lg=`realtime-js/${ag}`,jh="1.0.0",ug="2.0.0",Kd=jh,dl=1e4,cg=1e3,dg=100;var yr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(yr||(yr={}));var De;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(De||(De={}));var It;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(It||(It={}));var hl;(function(s){s.websocket="websocket"})(hl||(hl={}));var Mr;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Mr||(Mr={}));class hg{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var n,o;const l=(o=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,n,o){var l,c;const d=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",p=(c=r.join_ref)!==null&&c!==void 0?c:"",v=r.payload.event,_=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(_).length===0?"":JSON.stringify(_);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+v.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+E);let N=new DataView(C),j=0;N.setUint8(j++,this.KINDS.userBroadcastPush),N.setUint8(j++,p.length),N.setUint8(j++,f.length),N.setUint8(j++,d.length),N.setUint8(j++,v.length),N.setUint8(j++,w.length),N.setUint8(j++,n),Array.from(p,U=>N.setUint8(j++,U.charCodeAt(0))),Array.from(f,U=>N.setUint8(j++,U.charCodeAt(0))),Array.from(d,U=>N.setUint8(j++,U.charCodeAt(0))),Array.from(v,U=>N.setUint8(j++,U.charCodeAt(0))),Array.from(w,U=>N.setUint8(j++,U.charCodeAt(0)));var R=new Uint8Array(C.byteLength+o.byteLength);return R.set(new Uint8Array(C),0),R.set(new Uint8Array(o),C.byteLength),R.buffer}decode(r,n){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return n(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,c,d,f,p]=o;return n({join_ref:l,ref:c,topic:d,event:f,payload:p})}return n({})}_binaryDecode(r){const n=new DataView(r),o=n.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,l)}}_decodeUserBroadcast(r,n,o){const l=n.getUint8(1),c=n.getUint8(2),d=n.getUint8(3),f=n.getUint8(4);let p=this.HEADER_LENGTH+4;const v=o.decode(r.slice(p,p+l));p=p+l;const _=o.decode(r.slice(p,p+c));p=p+c;const w=o.decode(r.slice(p,p+d));p=p+d;const E=r.slice(p,r.byteLength),C=f===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,N={type:this.BROADCAST_EVENT,event:_,payload:C};return d>0&&(N.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>n.includes(o)))}}class Rh{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(_e||(_e={}));const Gd=(s,r,n={})=>{var o;const l=(o=n.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((c,d)=>(c[d]=fg(d,s,r,l),c),{}):{}},fg=(s,r,n,o)=>{const l=r.find(f=>f.name===s),c=l==null?void 0:l.type,d=n[s];return c&&!o.includes(c)?Oh(c,d):fl(d)},Oh=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return vg(r,n)}switch(s){case _e.bool:return pg(r);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return mg(r);case _e.json:case _e.jsonb:return gg(r);case _e.timestamp:return yg(r);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return fl(r);default:return fl(r)}},fl=s=>s,pg=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},mg=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},gg=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},vg=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,o=s[n];if(s[0]==="{"&&o==="}"){let c;const d=s.slice(1,n);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(f=>Oh(r,f))}return s},yg=s=>typeof s=="string"?s.replace(" ","T"):s,Nh=s=>{const r=new URL(s);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Za{constructor(r,n,o={},l=dl){this.channel=r,this.event=n,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var o;return this._hasReceived(r)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Qd;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Qd||(Qd={}));class gs{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,l,c,d),this.pendingDiffs.forEach(p=>{this.state=gs.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=gs.syncDiff(this.state,l,c,d),f())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,o,l){const c=this.cloneDeep(r),d=this.transformState(n),f={},p={};return this.map(c,(v,_)=>{d[v]||(p[v]=_)}),this.map(d,(v,_)=>{const w=c[v];if(w){const E=_.map(R=>R.presence_ref),C=w.map(R=>R.presence_ref),N=_.filter(R=>C.indexOf(R.presence_ref)<0),j=w.filter(R=>E.indexOf(R.presence_ref)<0);N.length>0&&(f[v]=N),j.length>0&&(p[v]=j)}else f[v]=_}),this.syncDiff(c,{joins:f,leaves:p},o,l)}static syncDiff(r,n,o,l){const{joins:c,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(f,p)=>{var v;const _=(v=r[f])!==null&&v!==void 0?v:[];if(r[f]=this.cloneDeep(p),_.length>0){const w=r[f].map(C=>C.presence_ref),E=_.filter(C=>w.indexOf(C.presence_ref)<0);r[f].unshift(...E)}o(f,_,p)}),this.map(d,(f,p)=>{let v=r[f];if(!v)return;const _=p.map(w=>w.presence_ref);v=v.filter(w=>_.indexOf(w.presence_ref)<0),r[f]=v,l(f,v,p),v.length===0&&delete r[f]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(o=>n(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,o)=>{const l=r[o];return"metas"in l?n[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[o]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jd;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Jd||(Jd={}));var vs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(vs||(vs={}));var Yt;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class Cn{constructor(r,n={config:{}},o){var l,c;if(this.topic=r,this.params=n,this.socket=o,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Za(this,It.join,this.params,this.timeout),this.rejoinTimer=new Rh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new gs(this),this.broadcastEndpointURL=Nh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(C=>C.filter))!==null&&l!==void 0?l:[],_=!!this.bindings[vs.PRESENCE]&&this.bindings[vs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},E={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:v,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>r==null?void 0:r(Yt.CHANNEL_ERROR,C)),this._onClose(()=>r==null?void 0:r(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){r==null||r(Yt.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,R=(N=j==null?void 0:j.length)!==null&&N!==void 0?N:0,U=[];for(let M=0;M<R;M++){const P=j[M],{filter:{event:A,schema:Z,table:G,filter:se}}=P,ie=C&&C[M];if(ie&&ie.event===A&&Cn.isFilterValueEqual(ie.schema,Z)&&Cn.isFilterValueEqual(ie.table,G)&&Cn.isFilterValueEqual(ie.filter,se))U.push(Object.assign(Object.assign({},P),{id:ie.id}));else{this.unsubscribe(),this.state=De.errored,r==null||r(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(Yt.SUBSCRIBED);return}}).receive("error",C=>{this.state=De.errored,r==null||r(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,o){return this.state===De.joined&&r===vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,o)}async httpSend(r,n,o={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const v=await f.json();p=v.error||v.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,f,p;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new Za(this,It.leave,{},r),o.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(r,n,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(c),d}_push(r,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Za(this,r,n,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>dg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,o){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,o){var l,c;const d=r.toLocaleLowerCase(),{close:f,error:p,leave:v,join:_}=It;if(o&&[f,p,v,_].indexOf(d)>=0&&o!==this._joinRef())return;let E=this._onMessage(d,n,o);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var N,j,R;return((N=C.filter)===null||N===void 0?void 0:N.event)==="*"||((R=(j=C.filter)===null||j===void 0?void 0:j.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===d}).map(C=>C.callback(E,o)):(c=this.bindings[d])===null||c===void 0||c.filter(C=>{var N,j,R,U,M,P;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const A=C.id,Z=(N=C.filter)===null||N===void 0?void 0:N.event;return A&&((j=n.ids)===null||j===void 0?void 0:j.includes(A))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((R=n.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const A=(M=(U=C==null?void 0:C.filter)===null||U===void 0?void 0:U.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return A==="*"||A===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof E=="object"&&"ids"in E){const N=E.data,{schema:j,table:R,commit_timestamp:U,type:M,errors:P}=N;E=Object.assign(Object.assign({},{schema:j,table:R,commit_timestamp:U,eventType:M,new:{},old:{},errors:P}),this._getPayloadRecords(N))}C.callback(E,o)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,o){const l=r.toLocaleLowerCase(),c={type:l,filter:n,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,n){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&Cn.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const o in r)if(r[o]!==n[o])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(It.close,{},r)}_onError(r){this._on(It.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Gd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Gd(r.columns,r.old_record)),n}}const el=()=>{},Fi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wg=[1e3,2e3,5e3,1e4],_g=1e4,xg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sg{constructor(r,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dl,this.transport=null,this.heartbeatIntervalMs=Fi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=el,this.ref=0,this.reconnectTimer=null,this.vsn=Kd,this.logger=el,this.conn=null,this.sendBuffer=[],this.serializer=new hg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((o=n==null?void 0:n.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${hl.websocket}`,this.httpEndpoint=Nh(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=og.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,o){this.logger(r,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Mr.Connecting;case yr.open:return Mr.Open;case yr.closing:return Mr.Closing;default:return Mr.Closed}}isConnected(){return this.connectionState()===Mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new Cn(`realtime:${r}`,n,this);return this.channels.push(c),c}}push(r){const{topic:n,event:o,payload:l,ref:c}=r,d=()=>{this.encode(r,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(cg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Fi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:c,ref:d}=n,f=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${o} ${l} ${f}`.trim(),c),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,c,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===yr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yr.open||this.conn.readyState===yr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(It.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${o}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const o=new Blob([xg],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,o=!1;if(r)n=r,o=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const c={access_token:n,version:lg};n&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(It.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Rh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,o,l,c,d,f,p,v,_,w,E,C;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:dl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Fi.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:el,this.vsn=(p=r==null?void 0:r.vsn)!==null&&p!==void 0?p:Kd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(N=>wg[N-1]||_g),this.vsn){case jh:this.encode=(_=r==null?void 0:r.encode)!==null&&_!==void 0?_:((N,j)=>j(JSON.stringify(N))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((N,j)=>j(JSON.parse(N)));break;case ug:this.encode=(E=r==null?void 0:r.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(C=r==null?void 0:r.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var _s=class extends Error{constructor(s,r){var n;super(s),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Eg(s,r,n){const o=new URL(r,s);if(n)for(const[l,c]of Object.entries(n))c!==void 0&&o.searchParams.set(l,c);return o.toString()}async function kg(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function bg(s){const r=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:o,query:l,body:c,headers:d}){const f=Eg(s.baseUrl,o,l),p=await kg(s.auth),v=await r(f,{method:n,headers:{...c?{"Content-Type":"application/json"}:{},...p,...d},body:c?JSON.stringify(c):void 0}),_=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),E=w&&_?JSON.parse(_):_;if(!v.ok){const C=w?E:void 0,N=C==null?void 0:C.error;throw new _s((N==null?void 0:N.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:C})}return{status:v.status,headers:v.headers,data:E}}}}function qi(s){return s.join("")}var Cg=class{constructor(s,r=""){this.client=s,this.prefix=r}async listNamespaces(s){const r=s?{parent:qi(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,r){const n={namespace:s.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qi(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qi(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qi(s.namespace)}`}),!0}catch(r){if(r instanceof _s&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(s,r){try{return await this.createNamespace(s,r)}catch(n){if(n instanceof _s&&n.status===409)return;throw n}}};function vn(s){return s.join("")}var Tg=class{constructor(s,r="",n){this.client=s,this.prefix=r,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vn(s.namespace)}/tables`})).data.identifiers}async createTable(s,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vn(s.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(s,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vn(s.namespace)}/tables/${s.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vn(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(s){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vn(s.namespace)}/tables/${s.name}`,headers:r})).data.metadata}async tableExists(s){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vn(s.namespace)}/tables/${s.name}`,headers:r}),!0}catch(n){if(n instanceof _s&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,r){try{return await this.createTable(s,r)}catch(n){if(n instanceof _s&&n.status===409)return await this.loadTable({namespace:s.namespace,name:r.name});throw n}}},jg=class{constructor(s){var o;let r="v1";s.catalogName&&(r+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=bg({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(o=s.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new Cg(this.client,r),this.tableOps=new Tg(this.client,r,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,r){return this.namespaceOps.createNamespace(s,r)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,r){return this.tableOps.createTable(s,r)}async updateTable(s,r){return this.tableOps.updateTable(s,r)}async dropTable(s,r){await this.tableOps.dropTable(s,r)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,r){return this.namespaceOps.createNamespaceIfNotExists(s,r)}async createTableIfNotExists(s,r){return this.tableOps.createTableIfNotExists(s,r)}},Yi=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Te(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Rg=class extends Yi{constructor(s,r,n){super(s),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pl=class extends Yi{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}};const Tl=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Og=()=>Response,ml=s=>{if(Array.isArray(s))return s.map(n=>ml(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,o])=>{const l=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=ml(o)}),r},Ng=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Pg=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function xs(s){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xs(s)}function Ag(s,r){if(xs(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(xs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function Ig(s){var r=Ag(s,"string");return xs(r)=="symbol"?r:r+""}function $g(s,r,n){return(r=Ig(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function Yd(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function te(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Yd(Object(n),!0).forEach(function(o){$g(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const tl=s=>{var r;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(r=s.error)===null||r===void 0?void 0:r.message)||JSON.stringify(s)},Ug=async(s,r,n)=>{s instanceof await Og()&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{const l=s.status||500,c=(o==null?void 0:o.statusCode)||l+"";r(new Rg(tl(o),l,c))}).catch(o=>{r(new pl(tl(o),o))}):r(new pl(tl(s),s))},Lg=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!o?l:(Ng(o)?(l.headers=te({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),te(te({},l),n))};async function Rs(s,r,n,o,l,c){return new Promise((d,f)=>{s(n,Lg(r,o,l,c)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Ug(p,f,o))})}async function Ss(s,r,n,o){return Rs(s,"GET",r,n,o)}async function At(s,r,n,o,l){return Rs(s,"POST",r,o,l,n)}async function gl(s,r,n,o,l){return Rs(s,"PUT",r,o,l,n)}async function Dg(s,r,n,o){return Rs(s,"HEAD",r,te(te({},n),{},{noResolveJson:!0}),o)}async function jl(s,r,n,o,l){return Rs(s,"DELETE",r,o,l,n)}var zg=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r}then(s,r){return this.execute().then(s,r)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}};let Ph;Ph=Symbol.toStringTag;var Mg=class{constructor(s,r){this.downloadFn=s,this.shouldThrowOnError=r,this[Ph]="BlobDownloadBuilder",this.promise=null}asStream(){return new zg(this.downloadFn,this.shouldThrowOnError)}then(s,r){return this.getPromise().then(s,r)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(r){if(s.shouldThrowOnError)throw r;if(Te(r))return{data:null,error:r};throw r}}};const Bg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Fg=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1,this.url=s,this.headers=r,this.bucketId=n,this.fetch=Tl(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,r,n,o){var l=this;try{let c;const d=te(te({},Xd),o);let f=te(te({},l.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",l.encodeMetadata(p)),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),p&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(p))):(c=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),o!=null&&o.headers&&(f=te(te({},f),o.headers));const v=l._removeEmptyFolders(r),_=l._getFinalPath(v),w=await(s=="PUT"?gl:At)(l.fetch,`${l.url}/object/${_}`,c,te({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Te(c))return{data:null,error:c};throw c}}async upload(s,r,n){return this.uploadOrUpdate("POST",s,r,n)}async uploadToSignedUrl(s,r,n,o){var l=this;const c=l._removeEmptyFolders(s),d=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${d}`);f.searchParams.set("token",r);try{let p;const v=te({upsert:Xd.upsert},o),_=te(te({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",v.cacheControl)):(p=n,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType),{data:{path:c,fullPath:(await gl(l.fetch,f.toString(),p,{headers:_})).Key},error:null}}catch(p){if(l.shouldThrowOnError)throw p;if(Te(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(s,r){var n=this;try{let o=n._getFinalPath(s);const l=te({},n.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=await At(n.fetch,`${n.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(n.url+c.url),f=d.searchParams.get("token");if(!f)throw new Yi("No token returned by API");return{data:{signedUrl:d.toString(),path:s,token:f},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async update(s,r,n){return this.uploadOrUpdate("PUT",s,r,n)}async move(s,r,n){var o=this;try{return{data:await At(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers}),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}}async copy(s,r,n){var o=this;try{return{data:{path:(await At(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:o.headers})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}}async createSignedUrl(s,r,n){var o=this;try{let l=o._getFinalPath(s),c=await At(o.fetch,`${o.url}/object/sign/${l}`,te({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:o.headers});const d=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return c={signedUrl:encodeURI(`${o.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}}async createSignedUrls(s,r,n){var o=this;try{const l=await At(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:s},{headers:o.headers}),c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(d=>te(te({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${c}`):null})),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}}download(s,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"",c=this._getFinalPath(s),d=()=>Ss(this.fetch,`${this.url}/${n}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new Mg(d,this.shouldThrowOnError)}async info(s){var r=this;const n=r._getFinalPath(s);try{return{data:ml(await Ss(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async exists(s){var r=this;const n=r._getFinalPath(s);try{return await Dg(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(Te(o)&&o instanceof pl){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,r){const n=this._getFinalPath(s),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}async remove(s){var r=this;try{return{data:await jl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async list(s,r,n){var o=this;try{const l=te(te(te({},Bg),r),{},{prefix:s||""});return{data:await At(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},n),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Te(l))return{data:null,error:l};throw l}}async listV2(s,r){var n=this;try{const o=te({},s);return{data:await At(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,o,{headers:n.headers},r),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}};const Ah="2.89.0",Ih={"X-Client-Info":`storage-js/${Ah}`};var qg=class{constructor(s,r={},n,o){this.shouldThrowOnError=!1;const l=new URL(s);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=te(te({},Ih),r),this.fetch=Tl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var r=this;try{const n=r.listBucketOptionsToQueryString(s);return{data:await Ss(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await Ss(r.fetch,`${r.url}/bucket/${s}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async createBucket(s,r={public:!1}){var n=this;try{return{data:await At(n.fetch,`${n.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async updateBucket(s,r){var n=this;try{return{data:await gl(n.fetch,`${n.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(Te(o))return{data:null,error:o};throw o}}async emptyBucket(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/bucket/${s}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await jl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(s){const r={};return s&&("limit"in s&&(r.limit=String(s.limit)),"offset"in s&&(r.offset=String(s.offset)),s.search&&(r.search=s.search),s.sortColumn&&(r.sortColumn=s.sortColumn),s.sortOrder&&(r.sortOrder=s.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},Wg=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=te(te({},Ih),r),this.fetch=Tl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await At(r.fetch,`${r.url}/bucket`,{name:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async listBuckets(s){var r=this;try{const n=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&n.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&n.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&n.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&n.set("sortOrder",s.sortOrder),s!=null&&s.search&&n.set("search",s.search);const o=n.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return{data:await Ss(r.fetch,l,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await jl(r.fetch,`${r.url}/bucket/${s}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Te(n))return{data:null,error:n};throw n}}from(s){var r=this;if(!Pg(s))throw new Yi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new jg({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(n,{get(l,c){const d=l[c];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(l,f),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}};const Rl={"X-Client-Info":`storage-js/${Ah}`,"Content-Type":"application/json"};var $h=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function mt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var rl=class extends $h{constructor(s,r,n){super(s),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vg=class extends $h{constructor(s,r){super(s),this.name="StorageVectorsUnknownError",this.originalError=r}};const Ol=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),Hg=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Zd=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Kg=async(s,r,n)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const o=s.status||500,l=s;if(typeof l.json=="function")l.json().then(c=>{const d=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||o+"";r(new rl(Zd(c),o,d))}).catch(()=>{const c=o+"";r(new rl(l.statusText||`HTTP ${o} error`,o,c))});else{const c=o+"";r(new rl(l.statusText||`HTTP ${o} error`,o,c))}}else r(new Vg(Zd(s),s))},Gg=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return o?(Hg(o)?(l.headers=te({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,te(te({},l),n)):l};async function Qg(s,r,n,o,l,c){return new Promise((d,f)=>{s(n,Gg(r,o,l,c)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const v=p.headers.get("content-type");return!v||!v.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>Kg(p,f,o))})}async function gt(s,r,n,o,l){return Qg(s,"POST",r,o,l,n)}var Jg=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=te(te({},Rl),r),this.fetch=Ol(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/CreateIndex`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getIndex(s,r){var n=this;try{return{data:await gt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers}),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}async listIndexes(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/ListIndexes`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteIndex(s,r){var n=this;try{return{data:await gt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:s,indexName:r},{headers:n.headers})||{},error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(mt(o))return{data:null,error:o};throw o}}},Yg=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=te(te({},Rl),r),this.fetch=Ol(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var r=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await gt(r.fetch,`${r.url}/PutVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getVectors(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/GetVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async listVectors(s){var r=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await gt(r.fetch,`${r.url}/ListVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async queryVectors(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/QueryVectors`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteVectors(s){var r=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await gt(r.fetch,`${r.url}/DeleteVectors`,s,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}},Xg=class{constructor(s,r={},n){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=te(te({},Rl),r),this.fetch=Ol(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async getBucket(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:s},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async listBuckets(s={}){var r=this;try{return{data:await gt(r.fetch,`${r.url}/ListVectorBuckets`,s,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}async deleteBucket(s){var r=this;try{return{data:await gt(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(mt(n))return{data:null,error:n};throw n}}},Zg=class extends Xg{constructor(s,r={}){super(s,r.headers||{},r.fetch)}from(s){return new ev(this.url,this.headers,s,this.fetch)}async createBucket(s){var r=()=>super.createBucket,n=this;return r().call(n,s)}async getBucket(s){var r=()=>super.getBucket,n=this;return r().call(n,s)}async listBuckets(s={}){var r=()=>super.listBuckets,n=this;return r().call(n,s)}async deleteBucket(s){var r=()=>super.deleteBucket,n=this;return r().call(n,s)}},ev=class extends Jg{constructor(s,r,n,o){super(s,r,o),this.vectorBucketName=n}async createIndex(s){var r=()=>super.createIndex,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(s={}){var r=()=>super.listIndexes,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(s){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,s)}async deleteIndex(s){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,s)}index(s){return new tv(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},tv=class extends Yg{constructor(s,r,n,o,l){super(s,r,l),this.vectorBucketName=n,this.indexName=o}async putVectors(s){var r=()=>super.putVectors,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(s){var r=()=>super.getVectors,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(s={}){var r=()=>super.listVectors,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(s){var r=()=>super.queryVectors,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(s){var r=()=>super.deleteVectors,n=this;return r().call(n,te(te({},s),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},rv=class extends qg{constructor(s,r={},n,o){super(s,r,n,o)}from(s){return new Fg(this.url,this.headers,s,this.fetch)}get vectors(){return new Zg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wg(this.url+"/iceberg",this.headers,this.fetch)}};const Uh="2.89.0",kn=30*1e3,vl=3,nl=vl*kn,nv="http://localhost:9999",sv="supabase.auth.token",iv={"X-Client-Info":`gotrue-js/${Uh}`},yl="X-Supabase-Api-Version",Lh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ov=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,av=600*1e3;class Es extends Error{constructor(r,n,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function J(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class lv extends Es{constructor(r,n,o){super(r,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function uv(s){return J(s)&&s.name==="AuthApiError"}class Br extends Es{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Xt extends Es{constructor(r,n,o,l){super(r,o,l),this.name=n,this.status=o}}class pt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cv(s){return J(s)&&s.name==="AuthSessionMissingError"}class yn extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wi extends Xt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Vi extends Xt{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dv(s){return J(s)&&s.name==="AuthImplicitGrantRedirectError"}class eh extends Xt{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hv extends Xt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class wl extends Xt{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function sl(s){return J(s)&&s.name==="AuthRetryableFetchError"}class th extends Xt{constructor(r,n,o){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class _l extends Xt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rh=` 	
\r=`.split(""),fv=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<rh.length;r+=1)s[rh[r].charCodeAt(0)]=-2;for(let r=0;r<Hi.length;r+=1)s[Hi[r].charCodeAt(0)]=r;return s})();function nh(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Hi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;n(Hi[o]),r.queuedBits-=6}}function Dh(s,r,n){const o=fv[s];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function sh(s){const r=[],n=d=>{r.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{gv(d,o,n)};for(let d=0;d<s.length;d+=1)Dh(s.charCodeAt(d),l,c);return r.join("")}function pv(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function mv(s,r){for(let n=0;n<s.length;n+=1){let o=s.charCodeAt(n);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}pv(o,r)}}function gv(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let o=1;o<6;o+=1)if((s>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Tn(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)Dh(s.charCodeAt(l),n,o);return new Uint8Array(r)}function vv(s){const r=[];return mv(s,n=>r.push(n)),new Uint8Array(r)}function Fr(s){const r=[],n={queue:0,queuedBits:0},o=l=>{r.push(l)};return s.forEach(l=>nh(l,n,o)),nh(null,n,o),r.join("")}function yv(s){return Math.round(Date.now()/1e3)+s}function wv(){return Symbol("auth-callback")}const Ve=()=>typeof window<"u"&&typeof document<"u",Lr={tested:!1,writable:!1},zh=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lr.tested)return Lr.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Lr.tested=!0,Lr.writable=!0}catch{Lr.tested=!0,Lr.writable=!1}return Lr.writable};function _v(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return n.searchParams.forEach((o,l)=>{r[l]=o}),r}const Mh=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),xv=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",bn=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Dr=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},We=async(s,r)=>{await s.removeItem(r)};class Xi{constructor(){this.promise=new Xi.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Xi.promiseConstructor=Promise;function il(s){const r=s.split(".");if(r.length!==3)throw new _l("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!ov.test(r[o]))throw new _l("JWT not in base64url format");return{header:JSON.parse(sh(r[0])),payload:JSON.parse(sh(r[1])),signature:Tn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Sv(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function Ev(s,r){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await s(c);if(!r(c,null,d)){o(d);return}}catch(d){if(!r(c,d)){l(d);return}}})()})}function kv(s){return("0"+s.toString(16)).substr(-2)}function bv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let l="";for(let c=0;c<56;c++)l+=n.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,kv).join("")}async function Cv(s){const n=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Tv(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await Cv(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wn(s,r,n=!1){const o=bv();let l=o;n&&(l+="/PASSWORD_RECOVERY"),await bn(s,`${r}-code-verifier`,l);const c=await Tv(o);return[c,o===c?"plain":"s256"]}const jv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rv(s){const r=s.headers.get(yl);if(!r||!r.match(jv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Ov(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Nv(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _n(s){if(!Pv.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ol(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Av(s,r){return new Proxy(s,{get:(n,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,o,l)}})}function ih(s){return JSON.parse(JSON.stringify(s))}const zr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Iv=[502,503,504];async function oh(s){var r;if(!xv(s))throw new wl(zr(s),0);if(Iv.includes(s.status))throw new wl(zr(s),s.status);let n;try{n=await s.json()}catch(c){throw new Br(zr(c),c)}let o;const l=Rv(s);if(l&&l.getTime()>=Lh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new th(zr(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new th(zr(n),s.status,n.weak_password.reasons);throw new lv(zr(n),s.status||500,o)}const $v=(s,r,n,o)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),n))};async function ee(s,r,n,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[yl]||(c[yl]=Lh["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Uv(s,r,n+f,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function Uv(s,r,n,o,l,c){const d=$v(r,o,l,c);let f;try{f=await s(n,Object.assign({},d))}catch(p){throw console.error(p),new wl(zr(p),0)}if(f.ok||await oh(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await oh(p)}}function Pt(s){var r;let n=null;zv(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=yv(s.expires_in)));const o=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:o},error:null}}function ah(s){const r=Pt(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(r.data.weak_password=s.weak_password),r}function wr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Lv(s){return{data:s,error:null}}function Dv(s){const{action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:c}=s,d=Ji(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:n,hashed_token:o,redirect_to:l,verification_type:c},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function lh(s){return s}function zv(s){return s.access_token&&s.refresh_token&&s.expires_in}const al=["global","local","others"];class Mv{constructor({url:r="",headers:n={},fetch:o}){this.url=r,this.headers=n,this.fetch=Mh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=al[0]){if(al.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${al.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(J(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(o){if(J(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:n}=r,o=Ji(r,["options"]),l=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Dv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:wr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,o,l,c,d,f,p;try{const v={nextPage:null,lastPage:0,total:0},_=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:lh});if(_.error)throw _.error;const w=await _.json(),E=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(p=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(N.split(";")[1].split("=")[1]);v[`${R}Page`]=j}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(J(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){_n(r);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:wr})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){_n(r);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:wr})}catch(o){if(J(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,n=!1){_n(r);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(o){if(J(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){_n(r.userId);try{const{data:n,error:o}=await ee(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:o}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(r){_n(r.userId),_n(r.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,o,l,c,d,f,p;try{const v={nextPage:null,lastPage:0,total:0},_=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:lh});if(_.error)throw _.error;const w=await _.json(),E=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(p=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(N.split(";")[1].split("=")[1]);v[`${R}Page`]=j}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(J(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(J(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}}function uh(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}const xn={debug:!!(globalThis&&zh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Bv extends Bh{}async function Fv(s,r,n){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Bv(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(xn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function qv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fh(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Wv(s){return parseInt(s,16)}function Vv(s){const r=new TextEncoder().encode(s);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function Hv(s){var r;const{chainId:n,domain:o,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:f,requestId:p,resources:v,scheme:_,uri:w,version:E}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((r=s.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=Fh(s.address),N=_?`${_}://${o}`:o,j=s.statement?`${s.statement}
`:"",R=`${N} wants you to sign in with your Ethereum account:
${C}

${j}`;let U=`URI: ${w}
Version: ${E}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),p&&(U+=`
Request ID: ${p}`),v){let M=`
Resources:`;for(const P of v){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);M+=`
- ${P}`}U+=M}return`${R}
${U}`}class Ie extends Error{constructor({message:r,code:n,cause:o,name:l}){var c;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=l??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=n}}class Ki extends Ie{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Kv({error:s,options:r}){var n,o,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=c.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(r.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ie({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(qh(d)){if(c.rp.id!==d)return new Ie({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Gv({error:s,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ie({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(qh(o)){if(n.rpId!==o)return new Ie({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Qv{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Jv=new Qv;function Yv(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:r,user:n,excludeCredentials:o}=s,l=Ji(s,["challenge","user","excludeCredentials"]),c=Tn(r).buffer,d=Object.assign(Object.assign({},n),{id:Tn(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const v=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},v),{id:Tn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function Xv(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:r,allowCredentials:n}=s,o=Ji(s,["challenge","allowCredentials"]),l=Tn(r).buffer,c=Object.assign(Object.assign({},o),{challenge:l});if(n&&n.length>0){c.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Tn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function Zv(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Fr(new Uint8Array(s.response.attestationObject)),clientDataJSON:Fr(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function ey(s){var r;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,o=s.getClientExtensionResults(),l=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Fr(new Uint8Array(l.authenticatorData)),clientDataJSON:Fr(new Uint8Array(l.clientDataJSON)),signature:Fr(new Uint8Array(l.signature)),userHandle:l.userHandle?Fr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function qh(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function ch(){var s,r;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function ty(s){try{const r=await navigator.credentials.create(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ki("Browser returned unexpected credential type",r)}:{data:null,error:new Ki("Empty credential response",r)}}catch(r){return{data:null,error:Kv({error:r,options:s})}}}async function ry(s){try{const r=await navigator.credentials.get(s);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ki("Browser returned unexpected credential type",r)}:{data:null,error:new Ki("Empty credential response",r)}}catch(r){return{data:null,error:Gv({error:r,options:s})}}}const ny={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Gi(...s){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of s)if(l)for(const c in l){const d=l[c];if(d!==void 0)if(Array.isArray(d))o[c]=d;else if(n(d))o[c]=d;else if(r(d)){const f=o[c];r(f)?o[c]=Gi(f,d):o[c]=Gi(d)}else o[c]=d}return o}function iy(s,r){return Gi(ny,s,r||{})}function oy(s,r){return Gi(sy,s,r||{})}class ay{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:o,signal:l},c){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:f};const p=l??Jv.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${o}`),v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=iy(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:_,error:w}=await ty({publicKey:v,signal:p});return _?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}case"request":{const v=oy(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:_,error:w}=await ry(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:p}));return _?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:w}}}}catch(d){return J(d)?{data:null,error:d}:{data:null,error:new Br("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new Es("rpId is required for WebAuthn authentication")};try{if(!ch())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:o},signal:l},{request:c});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(d){return J(d)?{data:null,error:d}:{data:null,error:new Br("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!n)return{data:null,error:new Es("rpId is required for WebAuthn registration")};try{if(!ch())return{data:null,error:new Br("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(_=>{var w;return(w=_.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===r&&E.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:f};const{data:p,error:v}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:l},{create:c});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:v}}catch(d){return J(d)?{data:null,error:d}:{data:null,error:new Br("Unexpected error in register",d)}}}}qv();const ly={url:nv,storageKey:sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dh(s,r,n){return await n()}const Sn={};class ks{get jwks(){var r,n;return(n=(r=Sn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Sn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Sn[this.storageKey]=Object.assign(Object.assign({},Sn[this.storageKey]),{cachedAt:r})}constructor(r){var n,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},ly),r);if(this.storageKey=c.storageKey,this.instanceID=(n=ks.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ks.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ve()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Mv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Mh(c.fetch),this.lock=c.lock||dh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&Ve()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=Fv:this.lock=dh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ay(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:zh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=uh(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uh}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},o="none";if(Ve()&&(n=_v(window.location.href),this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce")),Ve()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(n,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),dv(c)){const p=(r=c.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?this._returnResult({error:n}):this._returnResult({error:new Br("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,o,l;try{const c=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Pt}),{data:d,error:f}=c;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(c){if(J(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var n,o,l;try{let c;if("email"in r){const{email:_,password:w,options:E}=r;let C=null,N=null;this.flowType==="pkce"&&([C,N]=await wn(this.storage,this.storageKey)),c=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:_,password:w,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:C,code_challenge_method:N},xform:Pt})}else if("phone"in r){const{phone:_,password:w,options:E}=r;c=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:w,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(l=E==null?void 0:E.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:Pt})}else throw new Wi("You must provide either an email or phone number and a password");const{data:d,error:f}=c;if(f||!d)return await We(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(c){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let n;if("email"in r){const{email:c,password:d,options:f}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ah})}else if("phone"in r){const{phone:c,password:d,options:f}=r;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ah})}else throw new Wi("You must provide either an email or phone number and a password");const{data:o,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const c=new yn;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,o,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,o,l,c,d,f,p,v,_,w,E;let C,N;if("message"in r)C=r.message,N=r.signature;else{const{chain:j,wallet:R,statement:U,options:M}=r;let P;if(Ve())if(typeof R=="object")P=R;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")P=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=R}const A=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href),Z=await P.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Fh(Z[0]);let se=(o=M==null?void 0:M.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!se){const ae=await P.request({method:"eth_chainId"});se=Wv(ae)}const ie={domain:A.host,address:G,statement:U,uri:A.href,version:"1",chainId:se,nonce:(l=M==null?void 0:M.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=M==null?void 0:M.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=M==null?void 0:M.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=M==null?void 0:M.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(v=M==null?void 0:M.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(_=M==null?void 0:M.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=Hv(ie),N=await P.request({method:"personal_sign",params:[Vv(C),G]})}try{const{data:j,error:R}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:N},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Pt});if(R)throw R;if(!j||!j.session||!j.user){const U=new yn;return this._returnResult({data:{user:null,session:null},error:U})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:R})}catch(j){if(J(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(r){var n,o,l,c,d,f,p,v,_,w,E,C;let N,j;if("message"in r)N=r.message,j=r.signature;else{const{chain:R,wallet:U,statement:M,options:P}=r;let A;if(Ve())if(typeof U=="object")A=U;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))A=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=U}const Z=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const G=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),M?{statement:M}:null));let se;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")se=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)se=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)N=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),j=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${Z.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(l=(o=P==null?void 0:P.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((v=P==null?void 0:P.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((w=(_=P==null?void 0:P.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||w===void 0)&&w.length?["Resources",...P.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const G=await A.signMessage(new TextEncoder().encode(N),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=G}}try{const{data:R,error:U}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Fr(j)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Pt});if(U)throw U;if(!R||!R.session||!R.user){const M=new yn;return this._returnResult({data:{user:null,session:null},error:M})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:U})}catch(R){if(J(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(r){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(n??"").split("/");try{if(!o&&this.flowType==="pkce")throw new hv;const{data:c,error:d}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Pt});if(await We(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const f=new yn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:n,provider:o,token:l,access_token:c,nonce:d}=r,f=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pt}),{data:p,error:v}=f;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p||!p.session||!p.user){const _=new yn;return this._returnResult({data:{user:null,session:null},error:_})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:v})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,o,l,c,d;try{if("email"in r){const{email:f,options:p}=r;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await wn(this.storage,this.storageKey));const{error:w}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:_},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:f,options:p}=r,{data:v,error:_}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:_})}throw new Wi("You must provide either an email or phone number.")}catch(f){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var n,o;try{let l,c;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Pt});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,v=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:v,session:p},error:null})}catch(l){if(J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var n,o,l,c,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await wn(this.storage,this.storageKey));const v=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Lv});return!((c=v.data)===null||c===void 0)&&c.url&&Ve()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(f){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;if(o)throw o;if(!n)throw new pt;const{error:l}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:c}=r,{error:d}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:o,type:l,options:c}=r,{data:d,error:f}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Wi("You must provide either an email or phone number and a type")}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<nl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const d=await Dr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=ol()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=Av(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:wr}):await this._useSession(async n=>{var o,l,c;const{data:d,error:f}=n;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:wr})})}catch(n){if(J(n))return cv(n)&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new pt;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&r.email!=null&&([f,p]=await wn(this.storage,this.storageKey));const{data:v,error:_}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:wr});if(_)throw _;return d.user=v.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new pt;const n=Date.now()/1e3;let o=n,l=!0,c=null;const{payload:d}=il(r.access_token);if(d.exp&&(o=d.exp,l=o<=n),l){const{data:f,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(r.access_token);if(p)throw p;c={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(n){if(J(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var o;if(!r){const{data:d,error:f}=n;if(f)throw f;r=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new pt;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(J(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!Ve())throw new Vi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Vi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new eh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new eh("No code detected.");const{data:M,error:P}=await this._exchangeCodeForSession(r.code);if(P)throw P;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:f,expires_at:p,token_type:v}=r;if(!c||!f||!d||!v)throw new Vi("No session defined in URL");const _=Math.round(Date.now()/1e3),w=parseInt(f);let E=_+w;p&&(E=parseInt(p));const C=E-_;C*1e3<=kn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const N=E-w;_-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,E,_):_-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,E,_);const{data:j,error:R}=await this._getUser(c);if(R)throw R;const U={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:w,expires_at:E,refresh_token:d,token_type:v,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:r.type},error:null})}catch(o){if(J(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({error:c});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,r);if(f&&!(uv(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await We(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=wv(),o={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async n=>{var o,l;try{const{data:{session:c},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,n={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await wn(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:o,error:l}=await this._useSession(async c=>{var d,f,p,v,_;const{data:w,error:E}=c;if(E)throw E;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&_!==void 0?_:void 0})});if(l)throw l;return Ve()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(J(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var o;try{const{error:l,data:{session:c}}=n;if(l)throw l;const{options:d,provider:f,token:p,access_token:v,nonce:_}=r,w=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c==null?void 0:c.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:v,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Pt}),{data:E,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new yn}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:C}))}catch(l){if(await We(this.storage,`${this.storageKey}-code-verifier`),J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var o,l;const{data:c,error:d}=n;if(d)throw d;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Ev(async l=>(l>0&&await Sv(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Pt})),(l,c)=>{const d=200*Math.pow(2,l);return c&&sl(c)&&Date.now()+d-o<kn})}catch(o){if(this._debug(n,"error",o),J(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",o),Ve()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Dr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await bn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:ol()}else if(l&&!l.user&&!l.user){const d=await Dr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await We(this.storage,this.storageKey+"-user"),await bn(this.storage,this.storageKey,l)):l.user=ol()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<nl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${nl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),sl(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var n,o;if(!r)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Xi;const{data:c,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!c.session)throw new pt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),J(c)){const d={data:null,error:c};return sl(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:n});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,n)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await We(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await bn(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const c=ih(l);await bn(this.storage,this.storageKey,c)}else{const l=ih(n);await bn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await We(this.storage,this.storageKey),await We(this.storage,this.storageKey+"-code-verifier"),await We(this.storage,this.storageKey+"-user"),this.userStorage&&await We(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),kn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/kn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${kn}ms, refresh threshold is ${vl} ticks`),l<=vl&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Bh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,o){const l=[`provider=${encodeURIComponent(n)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,d]=await wn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;return c?this._returnResult({data:null,error:c}):await ee(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var o,l;const{data:c,error:d}=n;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:v}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Zv(r.webauthn.credential_response):ey(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:p}=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const d=await ee(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Yv(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Xv(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=il(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((n=(r=o.user.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(f="aal2");const v=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new pt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new pt});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(J(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,n){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new pt});const d=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Ve()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(J(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:o}=r;return o?this._returnResult({data:null,error:o}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new pt})})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:o},error:l}=n;return l?this._returnResult({data:null,error:l}):o?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})})}catch(n){if(J(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let o=n.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+av>l)return o;const{data:c,error:d}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,n={}){try{let o=r;if(!o){const{data:C,error:N}=await this.getSession();if(N||!C.session)return this._returnResult({data:null,error:N});o=C.session.access_token}const{header:l,payload:c,signature:d,raw:{header:f,payload:p}}=il(o);n!=null&&n.allowExpired||Ov(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:C}=await this.getUser(o);if(C)throw C;return{data:{claims:c,header:l,signature:d},error:null}}const _=Nv(l.alg),w=await crypto.subtle.importKey("jwk",v,_,!0,["verify"]);if(!await crypto.subtle.verify(_,w,d,vv(`${f}.${p}`)))throw new _l("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(o){if(J(o))return this._returnResult({data:null,error:o});throw o}}}ks.nextInstanceID={};const uy=ks,cy="2.89.0";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const dy={"X-Client-Info":`supabase-js-${ms}/${cy}`},hy={headers:dy},fy={schema:"public"},py={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},my={};function bs(s){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bs(s)}function gy(s,r){if(bs(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var o=n.call(s,r);if(bs(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(s)}function vy(s){var r=gy(s,"string");return bs(r)=="symbol"?r:r+""}function yy(s,r,n){return(r=vy(r))in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}function hh(s,r){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),n.push.apply(n,o)}return n}function Oe(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(n),!0).forEach(function(o){yy(s,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))})}return s}const wy=s=>s?(...r)=>s(...r):(...r)=>fetch(...r),_y=()=>Headers,xy=(s,r,n)=>{const o=wy(n),l=_y();return async(c,d)=>{var f;const p=(f=await r())!==null&&f!==void 0?f:s;let v=new l(d==null?void 0:d.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),o(c,Oe(Oe({},d),{},{headers:v}))}};function Sy(s){return s.endsWith("/")?s:s+"/"}function Ey(s,r){var n,o;const{db:l,auth:c,realtime:d,global:f}=s,{db:p,auth:v,realtime:_,global:w}=r,E={db:Oe(Oe({},p),l),auth:Oe(Oe({},v),c),realtime:Oe(Oe({},_),d),storage:{},global:Oe(Oe(Oe({},w),f),{},{headers:Oe(Oe({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?E.accessToken=s.accessToken:delete E.accessToken,E}function ky(s){const r=s==null?void 0:s.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var by=class extends uy{constructor(s){super(s)}},Cy=class{constructor(s,r,n){var o,l;this.supabaseUrl=s,this.supabaseKey=r;const c=ky(s);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:fy,realtime:my,auth:Oe(Oe({},py),{},{storageKey:d}),global:hy},p=Ey(n??{},f);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=p.auth)!==null&&v!==void 0?v:{},this.headers,p.global.fetch)}this.fetch=xy(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Oe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new ig(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new rv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new eg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,r,n;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,storageKey:c,flowType:d,lock:f,debug:p,throwOnError:v},_,w){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new by({url:this.authUrl.href,headers:Oe(Oe({},E),_),storageKey:c,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:o,userStorage:l,flowType:d,lock:f,debug:p,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new Sg(this.realtimeUrl.href,Oe(Oe({},s),{},{params:Oe(Oe({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ty=(s,r,n)=>new Cy(s,r,n);function jy(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ry="https://cngphkpkxjluwvuwvezz.supabase.co",Oy="sb_publishable__bG6aPNbgloNvOLnDzVzDw_I4yGhqEF",ce=Ty(Ry,Oy),xl=[{id:"reindeer",name:"Reindeer",emoji:"",backgroundColor:"#8B4513",accessory:"Red nose"},{id:"polar-bear",name:"Polar Bear",emoji:"",backgroundColor:"#E8F4F8",accessory:"Santa hat"},{id:"penguin",name:"Penguin",emoji:"",backgroundColor:"#1C1C1C",accessory:"Scarf"},{id:"owl",name:"Snowy Owl",emoji:"",backgroundColor:"#F5F5DC",accessory:"Earmuffs"},{id:"fox",name:"Arctic Fox",emoji:"",backgroundColor:"#FF6B35",accessory:"Mittens"},{id:"rabbit",name:"Snow Bunny",emoji:"",backgroundColor:"#FFB6C1",accessory:"Bow"},{id:"cat",name:"Cozy Cat",emoji:"",backgroundColor:"#FFA500",accessory:"Sweater"},{id:"dog",name:"Jolly Pup",emoji:"",backgroundColor:"#D2691E",accessory:"Antlers"},{id:"mouse",name:"Christmas Mouse",emoji:"",backgroundColor:"#C0C0C0",accessory:"Cheese gift"},{id:"hedgehog",name:"Holly Hedgehog",emoji:"",backgroundColor:"#8B7355",accessory:"Holly berries"},{id:"seal",name:"Festive Seal",emoji:"",backgroundColor:"#708090",accessory:"Bell collar"},{id:"otter",name:"Merry Otter",emoji:"",backgroundColor:"#5D4037",accessory:"Candy cane"},{id:"squirrel",name:"Nutty Squirrel",emoji:"",backgroundColor:"#CD853F",accessory:"Acorn ornament"},{id:"sloth",name:"Sleepy Sloth",emoji:"",backgroundColor:"#9E9E6D",accessory:"Pajamas"},{id:"koala",name:"Cuddly Koala",emoji:"",backgroundColor:"#A0A0A0",accessory:"Eucalyptus wreath"},{id:"panda",name:"Panda Claus",emoji:"",backgroundColor:"#2C2C2C",accessory:"Santa beard"}];function Ny(s){const r=xl.filter(l=>!s.includes(l.id)),n=r.length>0?r:xl,o=Math.floor(Math.random()*n.length);return n[o]}function Py(s){return xl.find(r=>r.id===s)}const Wh=I.createContext(null);function Ay({children:s}){const[r,n]=I.useState(null),[o,l]=I.useState([]),[c,d]=I.useState([]),[f,p]=I.useState(null),[v,_]=I.useState([]);I.useEffect(()=>{if(!r)return;const A=ce.channel(`players:${r.id}`).on("postgres_changes",{event:"*",schema:"public",table:"players",filter:`quiz_id=eq.${r.id}`},()=>{w()}).subscribe(),Z=ce.channel(`quiz:${r.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"quizzes",filter:`id=eq.${r.id}`},se=>{n(se.new)}).subscribe(),G=ce.channel(`answers:${r.id}`).on("postgres_changes",{event:"*",schema:"public",table:"answers"},()=>{C()}).subscribe();return w(),E(),C(),()=>{ce.removeChannel(A),ce.removeChannel(Z),ce.removeChannel(G)}},[r==null?void 0:r.id]);async function w(){if(!r)return;const{data:A}=await ce.from("players").select("*").eq("quiz_id",r.id).order("joined_at",{ascending:!0});A&&l(A)}async function E(){if(!r)return;const{data:A}=await ce.from("questions").select("*").eq("quiz_id",r.id).order("order_index",{ascending:!0});A&&d(A)}async function C(){if(!r||!f)return;const{data:A}=await ce.from("answers").select("*").eq("player_id",f.id);A&&_(A)}async function N(A,Z){const{data:G,error:se}=await ce.from("quizzes").select("*").eq("game_code",A.toUpperCase()).single();if(se||!G)return{success:!1,error:"Quiz not found. Please check the game code."};if(G.status==="finished")return{success:!1,error:"This quiz has already ended."};const{data:ie}=await ce.from("players").select("avatar_id").eq("quiz_id",G.id),ae=(ie==null?void 0:ie.map(Ye=>Ye.avatar_id))||[],ve=Ny(ae),{data:et,error:tt}=await ce.from("players").insert({quiz_id:G.id,name:Z,avatar_id:ve.id,status:"playing",current_question_index:0}).select().single();return tt?{success:!1,error:"Failed to join the game."}:(n(G),p(et),{success:!0})}async function j(){r&&await ce.from("quizzes").update({status:"active",current_question_index:0}).eq("id",r.id)}async function R(A,Z){if(!f)return;const G=c.find(ie=>ie.id===A),se=(G==null?void 0:G.correct_answer.toLowerCase())===Z.toLowerCase();await ce.from("answers").upsert({player_id:f.id,question_id:A,answer_text:Z,is_correct:se},{onConflict:"player_id,question_id"}),await C()}async function U(){if(!r)return;const A=r.current_question_index+1;A>=c.length?await ce.from("quizzes").update({status:"finished"}).eq("id",r.id):await ce.from("quizzes").update({current_question_index:A}).eq("id",r.id)}async function M(){if(!r||!f)return{finished:!1};const A=f.current_question_index+1;if(A>=c.length){await ce.from("players").update({status:"finished"}).eq("id",f.id),p({...f,status:"finished"});const{data:Z}=await ce.from("players").select("id").eq("quiz_id",r.id).eq("status","playing");return(!Z||Z.length===0)&&await ce.from("quizzes").update({status:"finished"}).eq("id",r.id),{finished:!0}}else return await ce.from("players").update({current_question_index:A}).eq("id",f.id),p({...f,current_question_index:A}),{finished:!1}}async function P(){if(!r)return;const{data:A}=await ce.from("quizzes").select("*").eq("id",r.id).single();A&&n(A),await w(),await E(),await C()}return g.jsx(Wh.Provider,{value:{quiz:r,players:o,questions:c,currentPlayer:f,answers:v,setQuiz:n,setCurrentPlayer:p,joinGame:N,startGame:j,submitAnswer:R,nextQuestion:U,nextPlayerQuestion:M,refreshGameState:P},children:s})}function Os(){const s=I.useContext(Wh);if(!s)throw new Error("useGame must be used within a GameProvider");return s}const Vh=I.createContext(null);function Iy({children:s}){const[r,n]=I.useState(()=>sessionStorage.getItem("admin_auth")==="true");function o(c,d){return c==="admin"&&d==="christmas2024"?(n(!0),sessionStorage.setItem("admin_auth","true"),!0):!1}function l(){n(!1),sessionStorage.removeItem("admin_auth")}return g.jsx(Vh.Provider,{value:{isAuthenticated:r,login:o,logout:l},children:s})}function Nl(){const s=I.useContext(Vh);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s}function $y(){const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let n=0;n<6;n++)r+=s.charAt(Math.floor(Math.random()*s.length));return r}function Bt(...s){return s.filter(Boolean).join(" ")}function Je({children:s,variant:r="primary",size:n="md",className:o,disabled:l,...c}){const d=Bt("font-pixel uppercase tracking-wider","border-4 transition-all duration-100","focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-retro-dark","disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none","active:translate-x-1 active:translate-y-1 active:shadow-none"),f={primary:Bt("bg-retro-dark text-xmas-red border-xmas-red","shadow-[4px_4px_0_#000]","hover:shadow-[6px_6px_0_#000,0_0_20px_#ff1a1a]","focus:ring-xmas-red"),secondary:Bt("bg-retro-dark text-xmas-green border-xmas-green","shadow-[4px_4px_0_#000]","hover:shadow-[6px_6px_0_#000,0_0_20px_#00cc44]","focus:ring-xmas-green"),outline:Bt("bg-transparent text-retro-magenta border-retro-magenta","shadow-[4px_4px_0_#000]","hover:bg-retro-magenta/10 hover:shadow-[6px_6px_0_#000,0_0_20px_#ff00ff]","focus:ring-retro-magenta"),danger:Bt("bg-retro-dark text-retro-red border-retro-red","shadow-[4px_4px_0_#000]","hover:shadow-[6px_6px_0_#000,0_0_20px_#ff0040]","focus:ring-retro-red"),festive:Bt("bg-xmas-red text-white border-xmas-green","shadow-[4px_4px_0_#000]","hover:shadow-[6px_6px_0_#000,0_0_15px_#ff1a1a,0_0_25px_#00cc44]","focus:ring-xmas-gold","animate-pulse")},p={sm:"px-3 py-1.5 text-[8px]",md:"px-5 py-2.5 text-[10px]",lg:"px-8 py-3.5 text-xs"};return g.jsx("button",{className:Bt(d,f[r],p[n],o),disabled:l,...c,children:s})}function Wr({label:s,error:r,className:n,id:o,...l}){const c=o||(s==null?void 0:s.toLowerCase().replace(/\s+/g,"-"));return g.jsxs("div",{className:"w-full",children:[s&&g.jsx("label",{htmlFor:c,className:"block font-pixel text-[10px] text-retro-cyan mb-2 uppercase tracking-wider",children:s}),g.jsx("input",{id:c,className:Bt("w-full px-4 py-3 bg-retro-black border-3 border-retro-gray","font-retro text-xl text-retro-green placeholder-retro-gray","focus:border-retro-cyan focus:shadow-neon-cyan focus:outline-none","transition-all duration-200",r&&"border-retro-red focus:border-retro-red focus:shadow-neon-red",n),style:{borderWidth:"3px"},...l}),r&&g.jsx("p",{className:"mt-2 font-pixel text-[8px] text-retro-red uppercase",children:r})]})}function Et({children:s,className:r,variant:n="default"}){const o={default:"border-xmas-red",cyan:"border-retro-cyan",magenta:"border-retro-magenta",green:"border-retro-green",christmas:"border-xmas-red"},l={default:"rgba(255, 26, 26, 0.08)",cyan:"rgba(0, 255, 245, 0.05)",magenta:"rgba(255, 0, 255, 0.05)",green:"rgba(0, 255, 0, 0.05)",christmas:"rgba(255, 26, 26, 0.1)"},c=n==="default"||n==="christmas";return g.jsxs("div",{className:Bt("bg-retro-dark border-4 p-6 md:p-8 relative overflow-hidden",o[n],"shadow-[8px_8px_0_#000]",r),style:{boxShadow:`8px 8px 0 #000, inset 0 0 50px ${l[n]}`},children:[c&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"absolute top-2 left-2 text-xmas-red animate-pulse text-lg",children:""}),g.jsx("div",{className:"absolute top-2 right-2 text-xmas-green animate-pulse text-lg",style:{animationDelay:"0.5s"},children:""}),g.jsx("div",{className:"absolute bottom-2 left-2 text-xmas-green animate-pulse text-lg",style:{animationDelay:"0.3s"},children:""}),g.jsx("div",{className:"absolute bottom-2 right-2 text-xmas-red animate-pulse text-lg",style:{animationDelay:"0.8s"},children:""})]}),s]})}function Er(){const[s,r]=I.useState([]),[n,o]=I.useState([]),[l,c]=I.useState([]);return I.useEffect(()=>{const d=["#ff1a1a","#ff1a1a","#ff1a1a","#00cc44","#ffd700","#ffffff","#ff1a1a","#00cc44"],f=[];for(let w=0;w<80;w++)f.push({id:w,left:Math.random()*100,top:Math.random()*100,size:1+Math.random()*2,animationDelay:Math.random()*3,color:d[Math.floor(Math.random()*d.length)]});r(f);const p=[];for(let w=0;w<60;w++)p.push({id:w,left:Math.random()*100,size:2+Math.random()*4,duration:8+Math.random()*12,delay:Math.random()*10,swayDuration:3+Math.random()*4});o(p);const v=["#ff1a1a","#ff1a1a","#00cc44","#ffd700","#ff1a1a"],_=[];for(let w=0;w<12;w++)_.push({id:w,left:w%2===0?Math.random()*15:85+Math.random()*15,top:10+Math.random()*80,size:10+Math.random()*15,color:v[Math.floor(Math.random()*v.length)],delay:Math.random()*3});c(_)},[]),g.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-retro-purple via-retro-dark to-retro-black"}),g.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`
            linear-gradient(rgba(255, 26, 26, 0.15) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 26, 26, 0.15) 1px, transparent 1px)
          `,backgroundSize:"50px 50px"}}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3",style:{background:`
            linear-gradient(
              to bottom,
              transparent 0%,
              rgba(255, 26, 26, 0.08) 100%
            )
          `,maskImage:"linear-gradient(to top, black, transparent)",WebkitMaskImage:"linear-gradient(to top, black, transparent)"},children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(rgba(255, 26, 26, 0.3) 1px, transparent 1px),
              linear-gradient(90deg, rgba(0, 204, 68, 0.3) 1px, transparent 1px)
            `,backgroundSize:"30px 30px",transform:"perspective(500px) rotateX(60deg)",transformOrigin:"bottom"}})}),s.map(d=>g.jsx("div",{className:"absolute animate-twinkle",style:{left:`${d.left}%`,top:`${d.top}%`,width:`${d.size}px`,height:`${d.size}px`,backgroundColor:d.color,animationDelay:`${d.animationDelay}s`,boxShadow:`0 0 ${d.size*2}px ${d.color}`}},d.id)),n.map(d=>g.jsx("div",{className:"absolute animate-snowfall",style:{left:`${d.left}%`,width:`${d.size}px`,height:`${d.size}px`,backgroundColor:"#ffffff",boxShadow:"0 0 4px #ffffff, 0 0 8px rgba(255,255,255,0.5)",animationDuration:`${d.duration}s`,animationDelay:`${d.delay}s`,imageRendering:"pixelated"}},`snow-${d.id}`)),g.jsx("div",{className:"absolute top-0 left-0 right-0 flex justify-around px-4 py-2",children:Array.from({length:20}).map((d,f)=>g.jsx("div",{className:"animate-xmas-lights",style:{width:"8px",height:"12px",backgroundColor:f%2===0?"#ff1a1a":"#00cc44",borderRadius:"0 0 4px 4px",boxShadow:`0 0 12px ${f%2===0?"#ff1a1a":"#00cc44"}`,animationDelay:`${f*.15}s`}},`light-${f}`))}),l.map(d=>g.jsx("div",{className:"absolute animate-float-pixel",style:{left:`${d.left}%`,top:`${d.top}%`,width:`${d.size}px`,height:`${d.size}px`,backgroundColor:d.color,borderRadius:"50%",boxShadow:`0 0 ${d.size}px ${d.color}, inset 0 0 ${d.size/3}px rgba(255,255,255,0.3)`,animationDelay:`${d.delay}s`},children:g.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2",style:{width:`${d.size/3}px`,height:`${d.size/4}px`,backgroundColor:"#ffd700",borderRadius:"2px 2px 0 0"}})},`ornament-${d.id}`)),g.jsx("div",{className:"absolute bottom-4 left-4 text-4xl animate-bounce",style:{animationDuration:"2s"},children:""}),g.jsx("div",{className:"absolute bottom-4 right-4 text-4xl animate-bounce",style:{animationDuration:"2.5s",animationDelay:"0.5s"},children:""}),g.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.4) 100%)"}})]})}function Uy(){const[s,r]=I.useState(""),[n,o]=I.useState(""),[l,c]=I.useState(""),[d,f]=I.useState(!1),{joinGame:p}=Os(),v=Sr();async function _(w){if(w.preventDefault(),c(""),!s.trim()){c("Please enter a game code");return}if(!n.trim()){c("Please enter your name");return}f(!0);const E=await p(s.trim(),n.trim());f(!1),E.success?v(`/game/${s.toUpperCase()}/lobby`):c(E.error||"Failed to join the game")}return g.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[g.jsx(Er,{}),g.jsxs(Et,{className:"w-full max-w-md relative z-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("p",{className:"font-pixel text-[8px] md:text-[10px] text-xmas-gold neon-text-gold mb-2 animate-pulse",children:" HOLIDAY EDITION "}),g.jsx("h1",{className:"font-pixel text-2xl md:text-3xl text-xmas-red animate-xmas-glow mb-4",children:"QUIZ ARCADE"}),g.jsxs("div",{className:"flex justify-center gap-2 items-center",children:[g.jsx("span",{className:"text-xmas-red animate-sparkle",children:""}),g.jsx("p",{className:"font-retro text-xl text-xmas-green neon-text-xmas-green animate-pulse",children:"MERRY QUIZMAS!"}),g.jsx("span",{className:"text-xmas-green animate-sparkle",style:{animationDelay:"0.5s"},children:""})]})]}),g.jsxs("form",{onSubmit:_,className:"space-y-6",children:[g.jsx(Wr,{label:"Game Code",placeholder:"ENTER 6-CHAR CODE",value:s,onChange:w=>r(w.target.value.toUpperCase()),maxLength:6,className:"text-center text-2xl tracking-widest uppercase font-pixel"}),g.jsx(Wr,{label:"Player Name",placeholder:"ENTER YOUR NAME",value:n,onChange:w=>o(w.target.value),maxLength:30}),l&&g.jsx("p",{className:"font-pixel text-[10px] text-retro-red text-center uppercase",children:l}),g.jsx(Je,{type:"submit",className:"w-full",size:"lg",variant:"festive",disabled:d,children:d?"JOINING...":" START GAME "})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("a",{href:"/admin",className:"font-pixel text-[8px] text-retro-gray hover:text-retro-magenta transition-colors uppercase",children:"Admin Login"})}),g.jsx("div",{className:"mt-6 text-center",children:g.jsx("p",{className:"font-retro text-sm text-xmas-red neon-text-xmas-red animate-pulse",children:" PRESS START TO UNWRAP THE FUN "})})]})]})}function Hh({avatarId:s,size:r="md",className:n,showAccessory:o=!0}){const l=Py(s);if(!l)return null;const c={sm:"w-8 h-8 text-lg",md:"w-12 h-12 text-2xl",lg:"w-16 h-16 text-4xl"};return g.jsxs("div",{className:Bt("relative flex items-center justify-center","border-2 border-retro-cyan","shadow-[2px_2px_0_#000]",c[r],n),style:{backgroundColor:l.backgroundColor},title:`${l.name} - ${l.accessory}`,children:[g.jsx("span",{className:"select-none",role:"img","aria-label":l.name,children:l.emoji}),o&&g.jsx("span",{className:"absolute -top-1 -right-1 text-xs",children:Ly(l.id)})]})}function Ly(s){return{reindeer:"","polar-bear":"",penguin:"",owl:"",fox:"",rabbit:"",cat:"",dog:"",mouse:"",hedgehog:"",seal:"",otter:"",squirrel:"",sloth:"",koala:"",panda:""}[s]||""}function Dy(){const{gameCode:s}=js(),{quiz:r,players:n,currentPlayer:o,startGame:l}=Os(),c=Sr();I.useEffect(()=>{if(!r||!o){c("/");return}r.status==="active"?c(`/game/${s}/play`):r.status==="finished"&&c(`/game/${s}/results`)},[r,o,c,s]);async function d(){await l(),c(`/game/${s}/play`)}return!r||!o?null:g.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[g.jsx(Er,{}),g.jsxs(Et,{className:"w-full max-w-lg relative z-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-pixel text-lg md:text-xl text-retro-magenta neon-text-magenta mb-4",children:"PLAYER SELECT"}),g.jsxs("div",{className:"inline-block bg-retro-black border-2 border-retro-cyan px-4 py-2 shadow-[4px_4px_0_#000]",children:[g.jsx("span",{className:"font-pixel text-[8px] text-retro-gray block mb-1",children:"GAME CODE"}),g.jsx("span",{className:"font-pixel text-lg text-retro-cyan neon-text-cyan tracking-widest",children:r.game_code})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsxs("h2",{className:"font-pixel text-[10px] text-retro-green mb-4 flex items-center gap-2",children:[g.jsx("span",{children:"PLAYERS READY"}),g.jsx("span",{className:"bg-retro-green text-retro-black px-2 py-0.5 text-[8px]",children:n.length})]}),g.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:n.map((f,p)=>g.jsxs("div",{className:`flex items-center p-3 border-2 ${f.id===o.id?"border-retro-yellow bg-retro-yellow/10":"border-retro-gray bg-retro-black/50"}`,children:[g.jsxs("span",{className:"font-pixel text-[10px] text-retro-cyan mr-3",children:["P",p+1]}),g.jsx(Hh,{avatarId:f.avatar_id,size:"sm",className:"mr-3"}),g.jsxs("span",{className:"font-retro text-lg text-retro-white",children:[f.name,f.id===o.id&&g.jsx("span",{className:"ml-2 font-pixel text-[8px] text-retro-yellow",children:"(YOU)"})]})]},f.id))})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"font-retro text-lg text-retro-gray mb-4 animate-pulse",children:"WAITING FOR PLAYERS..."}),g.jsx(Je,{onClick:d,size:"lg",className:"w-full",children:"START QUEST"})]})]})]})}function zy(){const{gameCode:s}=js(),{quiz:r,questions:n,currentPlayer:o,answers:l,submitAnswer:c,nextPlayerQuestion:d}=Os(),f=Sr(),[p,v]=I.useState(""),[_,w]=I.useState(""),[E,C]=I.useState(!1),N=(o==null?void 0:o.current_question_index)||0,j=n[N],R=l.some(A=>A.question_id===(j==null?void 0:j.id));I.useEffect(()=>{if(!r||!o){f("/");return}r.status==="waiting"?f(`/game/${s}/lobby`):r.status==="finished"?f(`/game/${s}/results`):o.status==="finished"&&f(`/game/${s}/waiting`)},[r,o,f,s]),I.useEffect(()=>{v(""),w("")},[N]);async function U(){if(!j)return;const A=j.question_type==="multiple_choice"?p:_;A.trim()&&(C(!0),await c(j.id,A),C(!1))}async function M(){const{finished:A}=await d();A&&f(`/game/${s}/waiting`)}if(!r||!o||!j)return null;const P=(N+1)/n.length*100;return g.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[g.jsx(Er,{}),g.jsxs(Et,{className:"w-full max-w-2xl relative z-10",children:[g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex justify-between font-pixel text-[8px] text-retro-gray mb-2",children:[g.jsxs("span",{className:"text-retro-cyan",children:["ROUND ",N+1," OF ",n.length]}),g.jsxs("span",{className:"text-retro-green",children:[Math.round(P),"% COMPLETE"]})]}),g.jsx("div",{className:"w-full bg-retro-black border-2 border-retro-gray h-4",children:g.jsx("div",{className:"bg-retro-cyan h-full transition-all duration-300",style:{width:`${P}%`,boxShadow:"0 0 10px #00fff5"}})})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"font-retro text-2xl md:text-3xl text-retro-yellow mb-6",children:j.question_text}),j.image_url&&g.jsx("div",{className:"mb-6 border-3 border-retro-gray p-3",style:{borderWidth:"3px"},children:g.jsx("img",{src:j.image_url,alt:"Question",className:"max-h-64 mx-auto object-contain"})}),j.question_type==="multiple_choice"&&j.options?g.jsx("div",{className:"space-y-3",children:j.options.map((A,Z)=>g.jsxs("label",{className:`flex items-center p-4 border-3 cursor-pointer transition-all ${p===A?"border-retro-cyan bg-retro-cyan/10 shadow-neon-cyan":"border-retro-gray hover:border-retro-magenta"} ${R?"pointer-events-none opacity-75":""}`,style:{borderWidth:"3px"},children:[g.jsx("input",{type:"radio",name:"answer",value:A,checked:p===A,onChange:G=>v(G.target.value),disabled:R,className:"sr-only"}),g.jsx("span",{className:`w-10 h-10 border-2 flex items-center justify-center mr-4 font-pixel text-sm ${p===A?"border-retro-cyan bg-retro-cyan text-retro-black":"border-retro-gray text-retro-gray"}`,children:String.fromCharCode(65+Z)}),g.jsx("span",{className:"font-retro text-xl text-retro-white",children:A})]},Z))}):g.jsx("div",{children:g.jsx("textarea",{value:_,onChange:A=>w(A.target.value),disabled:R,placeholder:"TYPE YOUR ANSWER HERE...",className:"w-full p-4 bg-retro-black border-3 border-retro-gray font-retro text-xl text-retro-green placeholder-retro-gray focus:border-retro-cyan focus:shadow-neon-cyan focus:outline-none transition-all min-h-[120px] resize-none disabled:opacity-75",style:{borderWidth:"3px"}})})]}),g.jsx("div",{className:"flex gap-4",children:R?g.jsxs("div",{className:"flex-1 flex flex-col items-center gap-4",children:[g.jsx("p",{className:"font-pixel text-[10px] text-retro-green neon-text-green",children:"ANSWER LOCKED!"}),g.jsx(Je,{onClick:M,variant:"secondary",size:"lg",className:"w-full",children:N+1<n.length?"NEXT ROUND":"FINISH QUEST"})]}):g.jsx(Je,{onClick:U,disabled:E||(j.question_type==="multiple_choice"?!p:!_.trim()),className:"flex-1",size:"lg",children:E?"SUBMITTING...":"LOCK IN ANSWER"})})]})]})}function My(){const{gameCode:s}=js(),{quiz:r,players:n,currentPlayer:o}=Os(),l=Sr(),c=n.filter(f=>f.status==="finished"),d=n.filter(f=>f.status==="playing");return I.useEffect(()=>{if(!r||!o){l("/");return}r.status==="waiting"?l(`/game/${s}/lobby`):r.status==="finished"?l(`/game/${s}/results`):o.status==="playing"&&l(`/game/${s}/play`)},[r,o,l,s]),!r||!o?null:g.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[g.jsx(Er,{}),g.jsxs(Et,{className:"w-full max-w-lg relative z-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-pixel text-xl md:text-2xl text-retro-green neon-text-green mb-2",children:"QUEST COMPLETE!"}),g.jsx("p",{className:"font-retro text-lg text-retro-gray",children:"WAITING FOR OTHER PLAYERS..."})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("h2",{className:"font-pixel text-[10px] text-retro-green mb-4 flex items-center gap-2",children:[g.jsx("span",{children:"FINISHED"}),g.jsx("span",{className:"bg-retro-green text-retro-black px-2 py-0.5 text-[8px]",children:c.length})]}),g.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(f=>g.jsxs("div",{className:"flex items-center p-3 border-2 border-retro-green bg-retro-green/10",children:[g.jsx("span",{className:"w-6 h-6 bg-retro-green text-retro-black flex items-center justify-center text-xs mr-3 font-pixel",children:"OK"}),g.jsxs("span",{className:"font-retro text-lg text-retro-white",children:[f.name,f.id===o.id&&g.jsx("span",{className:"ml-2 font-pixel text-[8px] text-retro-green",children:"(YOU)"})]})]},f.id))})]}),d.length>0&&g.jsxs("div",{children:[g.jsxs("h2",{className:"font-pixel text-[10px] text-retro-yellow mb-4 flex items-center gap-2",children:[g.jsx("span",{children:"STILL PLAYING"}),g.jsx("span",{className:"bg-retro-yellow text-retro-black px-2 py-0.5 text-[8px]",children:d.length})]}),g.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:d.map(f=>g.jsxs("div",{className:"flex items-center p-3 border-2 border-retro-gray bg-retro-black/50",children:[g.jsx("div",{className:"w-6 h-6 border-2 border-retro-yellow flex items-center justify-center mr-3",children:g.jsx("div",{className:"w-2 h-2 bg-retro-yellow animate-pulse"})}),g.jsx("span",{className:"font-retro text-lg text-retro-gray",children:f.name}),g.jsxs("span",{className:"ml-auto font-pixel text-[8px] text-retro-cyan",children:["Q",f.current_question_index+1]})]},f.id))})]}),g.jsxs("div",{className:"mt-8 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 bg-retro-cyan animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("div",{className:"w-3 h-3 bg-retro-magenta animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("div",{className:"w-3 h-3 bg-retro-yellow animate-bounce",style:{animationDelay:"300ms"}})]}),g.jsx("p",{className:"font-retro text-sm text-retro-gray mt-4",children:"PLEASE WAIT..."})]})]})]})}function By(){const{gameCode:s}=js(),{quiz:r,players:n,questions:o,currentPlayer:l}=Os(),c=Sr(),[d,f]=I.useState([]),[p,v]=I.useState(!0);I.useEffect(()=>{if(!r||!l){c("/");return}r.status==="waiting"?c(`/game/${s}/lobby`):r.status==="active"&&c(`/game/${s}/play`)},[r,l,c,s]),I.useEffect(()=>{async function C(){if(!r)return;const{data:N}=await ce.from("answers").select("player_id, is_correct").in("question_id",o.map(R=>R.id));if(!N){v(!1);return}const j=n.map(R=>{const M=N.filter(P=>P.player_id===R.id).filter(P=>P.is_correct).length;return{player:R,correctAnswers:M,totalQuestions:o.length}});j.sort((R,U)=>U.correctAnswers-R.correctAnswers),f(j),v(!1)}C()},[r,n,o]);function _(){c("/")}if(!r||!l)return null;const w=C=>{switch(C){case 0:return{text:"1ST",color:"text-retro-yellow neon-text-yellow"};case 1:return{text:"2ND",color:"text-retro-cyan neon-text-cyan"};case 2:return{text:"3RD",color:"text-retro-magenta neon-text-magenta"};default:return{text:`${C+1}TH`,color:"text-retro-gray"}}},E=d.find(C=>C.player.id===l.id);return g.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[g.jsx(Er,{}),g.jsxs(Et,{className:"w-full max-w-lg relative z-10",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-pixel text-2xl md:text-3xl text-retro-yellow neon-text-yellow mb-2 animate-pulse",children:"GAME OVER"}),g.jsx("p",{className:"font-pixel text-[10px] text-retro-cyan",children:"HIGH SCORES"})]}),p?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-retro-cyan border-t-transparent mx-auto animate-spin"}),g.jsx("p",{className:"mt-4 font-retro text-lg text-retro-gray",children:"CALCULATING SCORES..."})]}):g.jsxs(g.Fragment,{children:[E&&g.jsxs("div",{className:"bg-retro-purple border-4 border-retro-magenta p-6 mb-6 text-center shadow-[4px_4px_0_#000]",children:[g.jsx("p",{className:"font-pixel text-[10px] text-retro-magenta mb-2",children:"YOUR SCORE"}),g.jsxs("p",{className:"font-pixel text-4xl text-retro-white neon-text my-2",style:{textShadow:"0 0 10px #fff"},children:[E.correctAnswers," / ",E.totalQuestions]}),g.jsxs("p",{className:"font-retro text-xl text-retro-green",children:[Math.round(E.correctAnswers/E.totalQuestions*100),"% CORRECT"]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"font-pixel text-[10px] text-retro-cyan mb-4 text-center",children:"LEADERBOARD"}),g.jsx("div",{className:"space-y-2",children:d.map((C,N)=>{const j=w(N);return g.jsxs("div",{className:`flex items-center justify-between p-3 border-2 ${C.player.id===l.id?"border-retro-yellow bg-retro-yellow/10":"border-retro-gray bg-retro-black/50"}`,children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:`font-pixel text-[10px] w-10 ${j.color}`,children:j.text}),g.jsx(Hh,{avatarId:C.player.avatar_id,size:"sm",className:"mx-2"}),g.jsxs("span",{className:"font-retro text-lg text-retro-white",children:[C.player.name,C.player.id===l.id&&g.jsx("span",{className:"ml-2 font-pixel text-[8px] text-retro-yellow",children:"(YOU)"})]})]}),g.jsxs("span",{className:"font-pixel text-sm text-retro-cyan",children:[C.correctAnswers,"/",C.totalQuestions]})]},C.player.id)})})]}),g.jsx(Je,{onClick:_,size:"lg",className:"w-full",children:"PLAY AGAIN?"}),g.jsx("p",{className:"font-retro text-center text-retro-gray mt-4 animate-blink",children:"CONTINUE? INSERT COIN..."})]})]})]})}function Fy(){const[s,r]=I.useState(""),[n,o]=I.useState(""),[l,c]=I.useState(""),{login:d}=Nl();function f(p){if(p.preventDefault(),c(""),!s.trim()||!n.trim()){c("Please enter both username and password");return}d(s,n)||c("Invalid credentials")}return g.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",children:[g.jsx(Er,{}),g.jsxs(Et,{className:"w-full max-w-md relative z-10",variant:"magenta",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"font-pixel text-xl md:text-2xl text-retro-magenta neon-text-magenta mb-4",children:"CONTROL ROOM"}),g.jsx("p",{className:"font-retro text-lg text-retro-gray",children:"ADMIN ACCESS REQUIRED"})]}),g.jsxs("form",{onSubmit:f,className:"space-y-6",children:[g.jsx(Wr,{label:"Username",type:"text",value:s,onChange:p=>r(p.target.value),placeholder:"ENTER USERNAME"}),g.jsx(Wr,{label:"Password",type:"password",value:n,onChange:p=>o(p.target.value),placeholder:"ENTER PASSWORD"}),l&&g.jsx("p",{className:"font-pixel text-[10px] text-retro-red text-center uppercase",children:l}),g.jsx(Je,{type:"submit",className:"w-full",size:"lg",variant:"outline",children:"ACCESS SYSTEM"})]}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx("a",{href:"/",className:"font-pixel text-[8px] text-retro-gray hover:text-retro-cyan transition-colors uppercase",children:"Back to Game"})})]})]})}function qy(){const[s,r]=I.useState([]),[n,o]=I.useState(!0),{logout:l}=Nl(),c=Sr();I.useEffect(()=>{d()},[]);async function d(){const{data:w}=await ce.from("quizzes").select("*").order("created_at",{ascending:!1});w&&r(w),o(!1)}async function f(w){confirm("Are you sure you want to delete this quiz?")&&(await ce.from("quizzes").delete().eq("id",w),d())}async function p(w){await ce.from("quizzes").update({status:"waiting",current_question_index:0}).eq("id",w),await ce.from("players").delete().eq("quiz_id",w),d()}function v(){l()}const _=w=>{switch(w){case"waiting":return"bg-retro-yellow/20 text-retro-yellow border-retro-yellow";case"active":return"bg-retro-green/20 text-retro-green border-retro-green";case"finished":return"bg-retro-gray/20 text-retro-gray border-retro-gray";default:return"bg-retro-gray/20 text-retro-gray border-retro-gray"}};return g.jsxs("div",{className:"min-h-screen p-4",children:[g.jsx(Er,{}),g.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h1",{className:"font-pixel text-xl md:text-2xl text-retro-cyan neon-text-cyan",children:"QUIZ DASHBOARD"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Je,{onClick:()=>c("/admin/quiz/new"),variant:"primary",children:"CREATE QUIZ"}),g.jsx(Je,{onClick:v,variant:"outline",children:"LOGOUT"})]})]}),n?g.jsx(Et,{children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"w-8 h-8 border-4 border-retro-cyan border-t-transparent mx-auto animate-spin"}),g.jsx("p",{className:"mt-4 font-retro text-lg text-retro-gray",children:"LOADING..."})]})}):s.length===0?g.jsx(Et,{children:g.jsxs("div",{className:"text-center py-12",children:[g.jsx("p",{className:"font-retro text-xl text-retro-gray mb-4",children:"NO QUIZZES CREATED YET"}),g.jsx(Je,{onClick:()=>c("/admin/quiz/new"),children:"CREATE YOUR FIRST QUIZ"})]})}):g.jsx("div",{className:"space-y-4",children:s.map(w=>g.jsx(Et,{children:g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"font-pixel text-sm text-retro-white mb-2",children:w.title}),g.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[g.jsx("span",{className:"font-pixel text-[10px] bg-retro-black border-2 border-retro-cyan px-2 py-1 text-retro-cyan",children:w.game_code}),g.jsx("span",{className:`font-pixel text-[8px] px-2 py-1 border uppercase ${_(w.status)}`,children:w.status}),g.jsx("span",{className:"font-retro text-retro-gray",children:new Date(w.created_at).toLocaleDateString()})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Je,{onClick:()=>c(`/admin/quiz/${w.id}`),variant:"outline",size:"sm",children:"EDIT"}),g.jsx(Je,{onClick:()=>p(w.id),variant:"secondary",size:"sm",children:"RESET"}),g.jsx(Je,{onClick:()=>f(w.id),variant:"danger",size:"sm",children:"DELETE"})]})]})},w.id))})]})]})}function Wy({onSubmit:s,nextOrderIndex:r}){const[n,o]=I.useState(""),[l,c]=I.useState("multiple_choice"),[d,f]=I.useState(["","","",""]),[p,v]=I.useState(""),[_,w]=I.useState(null),[E,C]=I.useState(null),[N,j]=I.useState(!1),[R,U]=I.useState(""),M=I.useRef(null);function P(ie){var ve;const ae=(ve=ie.target.files)==null?void 0:ve[0];if(ae){if(!ae.type.startsWith("image/")){U("Please select an image file");return}w(ae),C(URL.createObjectURL(ae)),U("")}}function A(){w(null),E&&(URL.revokeObjectURL(E),C(null)),M.current&&(M.current.value="")}async function Z(ie){const ae=ie.name.split(".").pop(),ve=`${Date.now()}-${Math.random().toString(36).substring(2)}.${ae}`,{error:et}=await ce.storage.from("question-images").upload(ve,ie);if(et)return console.error("Upload error:",et),null;const{data:tt}=ce.storage.from("question-images").getPublicUrl(ve);return tt.publicUrl}function G(ie,ae){const ve=[...d];ve[ie]=ae,f(ve)}async function se(ie){if(ie.preventDefault(),U(""),!n.trim()){U("Please enter a question");return}if(!p.trim()){U("Please enter the correct answer");return}if(l==="multiple_choice"){const ve=d.filter(et=>et.trim());if(ve.length<2){U("Please enter at least 2 options");return}if(!ve.includes(p.trim())){U("Correct answer must match one of the options");return}}let ae=null;if(_&&(j(!0),ae=await Z(_),j(!1),!ae)){U("Failed to upload image");return}s({question_text:n.trim(),question_type:l,options:l==="multiple_choice"?d.filter(ve=>ve.trim()):null,correct_answer:p.trim(),order_index:r,image_url:ae}),o(""),f(["","","",""]),v(""),A(),U("")}return g.jsxs("form",{onSubmit:se,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block font-pixel text-[10px] text-retro-cyan mb-3 uppercase",children:"Question Type"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("label",{className:"flex items-center cursor-pointer",children:[g.jsx("input",{type:"radio",name:"questionType",value:"multiple_choice",checked:l==="multiple_choice",onChange:()=>c("multiple_choice"),className:"sr-only"}),g.jsx("span",{className:`font-pixel text-[8px] px-3 py-2 border-2 transition-all ${l==="multiple_choice"?"border-retro-cyan bg-retro-cyan/20 text-retro-cyan":"border-retro-gray text-retro-gray hover:border-retro-magenta"}`,children:"MULTIPLE CHOICE"})]}),g.jsxs("label",{className:"flex items-center cursor-pointer",children:[g.jsx("input",{type:"radio",name:"questionType",value:"text",checked:l==="text",onChange:()=>c("text"),className:"sr-only"}),g.jsx("span",{className:`font-pixel text-[8px] px-3 py-2 border-2 transition-all ${l==="text"?"border-retro-cyan bg-retro-cyan/20 text-retro-cyan":"border-retro-gray text-retro-gray hover:border-retro-magenta"}`,children:"TEXT ANSWER"})]})]})]}),g.jsx(Wr,{label:"Question",value:n,onChange:ie=>o(ie.target.value),placeholder:"ENTER YOUR QUESTION"}),g.jsxs("div",{children:[g.jsx("label",{className:"block font-pixel text-[10px] text-retro-cyan mb-3 uppercase",children:"Image (Optional)"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("label",{className:"cursor-pointer px-4 py-2 bg-retro-black border-2 border-retro-gray font-pixel text-[8px] text-retro-gray hover:border-retro-magenta hover:text-retro-magenta transition-all",children:["CHOOSE FILE",g.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:P,className:"sr-only"})]}),_&&g.jsx("span",{className:"font-retro text-sm text-retro-green truncate max-w-[200px]",children:_.name})]}),E&&g.jsxs("div",{className:"mt-3 border-2 border-retro-gray p-2 relative inline-block",children:[g.jsx("img",{src:E,alt:"Preview",className:"max-h-32 object-contain"}),g.jsx("button",{type:"button",onClick:A,className:"absolute -top-2 -right-2 w-6 h-6 bg-retro-red text-retro-black font-pixel text-xs flex items-center justify-center hover:bg-retro-yellow transition-colors",children:"X"})]})]}),l==="multiple_choice"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"block font-pixel text-[10px] text-retro-cyan uppercase",children:"Options"}),d.map((ie,ae)=>g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-8 h-8 bg-retro-purple border-2 border-retro-magenta flex items-center justify-center font-pixel text-[10px] text-retro-magenta",children:String.fromCharCode(65+ae)}),g.jsx("input",{type:"text",value:ie,onChange:ve=>G(ae,ve.target.value),placeholder:`OPTION ${String.fromCharCode(65+ae)}`,className:"flex-1 px-3 py-2 bg-retro-black border-2 border-retro-gray font-retro text-lg text-retro-green placeholder-retro-gray focus:border-retro-cyan focus:shadow-neon-cyan focus:outline-none transition-all"})]},ae))]}),g.jsx(Wr,{label:"Correct Answer",value:p,onChange:ie=>v(ie.target.value),placeholder:l==="multiple_choice"?"ENTER THE CORRECT OPTION TEXT":"ENTER THE CORRECT ANSWER"}),R&&g.jsx("p",{className:"font-pixel text-[8px] text-retro-red uppercase",children:R}),g.jsx(Je,{type:"submit",variant:"secondary",disabled:N,children:N?"UPLOADING...":"ADD ROUND"})]})}function Vy(){const{quizId:s}=js(),r=Sr(),n=s==="new",[o,l]=I.useState(""),[c,d]=I.useState([]),[f,p]=I.useState(!1),[v,_]=I.useState(""),[w,E]=I.useState(null);I.useEffect(()=>{!n&&s&&(C(),N())},[n,s]);async function C(){const{data:P}=await ce.from("quizzes").select("*").eq("id",s).single();P&&(l(P.title),E(P.id))}async function N(){const{data:P}=await ce.from("questions").select("*").eq("quiz_id",s).order("order_index",{ascending:!0});P&&d(P)}async function j(){if(!o.trim()){_("Please enter a quiz title");return}p(!0),_("");try{if(n||!w){const{data:P,error:A}=await ce.from("quizzes").insert({title:o.trim(),game_code:$y()}).select().single();if(A)throw A;P&&(E(P.id),r(`/admin/quiz/${P.id}`,{replace:!0}))}else{const{error:P}=await ce.from("quizzes").update({title:o.trim()}).eq("id",w);if(P)throw P}}catch(P){_("Failed to save quiz"),console.error(P)}p(!1)}async function R(P){if(!w){_("Please save the quiz first");return}const{error:A}=await ce.from("questions").insert({...P,quiz_id:w});if(A){_("Failed to add question"),console.error(A);return}N()}async function U(P){await ce.from("questions").delete().eq("id",P),N()}async function M(P,A){await ce.from("questions").update({order_index:A}).eq("id",P),N()}return g.jsxs("div",{className:"min-h-screen p-4",children:[g.jsx(Er,{}),g.jsxs("div",{className:"max-w-3xl mx-auto relative z-10",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8 flex-wrap gap-4",children:[g.jsx("h1",{className:"font-pixel text-lg md:text-xl text-retro-magenta neon-text-magenta",children:n?"CREATE QUEST":"EDIT QUEST"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx(Je,{onClick:()=>r("/admin"),variant:"outline",children:"BACK"}),w&&g.jsx(Je,{onClick:()=>r("/admin"),variant:"secondary",children:"FINISH"})]})]}),g.jsxs(Et,{className:"mb-6",children:[g.jsx("h2",{className:"font-pixel text-[10px] text-retro-cyan mb-4",children:"QUEST DETAILS"}),g.jsxs("div",{className:"flex gap-4 flex-wrap",children:[g.jsx("div",{className:"flex-1 min-w-[200px]",children:g.jsx(Wr,{label:"Quest Title",value:o,onChange:P=>l(P.target.value),placeholder:"ENTER QUEST TITLE"})}),g.jsx("div",{className:"flex items-end",children:g.jsx(Je,{onClick:j,disabled:f,children:f?"SAVING...":w?"UPDATE":"SAVE"})})]}),v&&g.jsx("p",{className:"font-pixel text-[8px] text-retro-red mt-2 uppercase",children:v})]}),w&&g.jsxs(g.Fragment,{children:[g.jsxs(Et,{className:"mb-6",children:[g.jsxs("h2",{className:"font-pixel text-[10px] text-retro-green mb-4",children:["ROUNDS (",c.length,")"]}),c.length===0?g.jsx("p",{className:"font-retro text-lg text-retro-gray text-center py-4",children:"NO QUESTIONS ADDED YET"}):g.jsx("div",{className:"space-y-4",children:c.map((P,A)=>g.jsxs("div",{className:"flex items-start gap-4 p-4 bg-retro-black/50 border-2 border-retro-gray",children:[g.jsx("span",{className:"w-8 h-8 bg-retro-cyan text-retro-black flex items-center justify-center font-pixel text-xs flex-shrink-0",children:A+1}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-retro text-lg text-retro-white mb-2 break-words",children:P.question_text}),P.image_url&&g.jsx("div",{className:"mb-3 border-2 border-retro-gray p-2 inline-block",children:g.jsx("img",{src:P.image_url,alt:"Question",className:"max-h-24 object-contain"})}),g.jsxs("div",{className:"flex items-center gap-2 flex-wrap text-sm",children:[g.jsx("span",{className:"font-pixel text-[8px] px-2 py-0.5 bg-retro-purple border border-retro-magenta text-retro-magenta uppercase",children:P.question_type.replace("_"," ")}),g.jsxs("span",{className:"font-retro text-retro-green",children:["Answer: ",P.correct_answer]})]}),P.options&&g.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:P.options.map((Z,G)=>g.jsxs("span",{className:`font-pixel text-[8px] px-2 py-1 border ${Z===P.correct_answer?"border-retro-green bg-retro-green/20 text-retro-green":"border-retro-gray text-retro-gray"}`,children:[String.fromCharCode(65+G),". ",Z]},G))})]}),g.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[A>0&&g.jsx("button",{onClick:()=>M(P.id,c[A-1].order_index),className:"text-retro-gray hover:text-retro-cyan font-pixel text-lg",children:"^"}),A<c.length-1&&g.jsx("button",{onClick:()=>M(P.id,c[A+1].order_index),className:"text-retro-gray hover:text-retro-cyan font-pixel text-lg",children:"v"}),g.jsx("button",{onClick:()=>U(P.id),className:"text-retro-gray hover:text-retro-red font-pixel text-lg",children:"X"})]})]},P.id))})]}),g.jsxs(Et,{variant:"green",children:[g.jsx("h2",{className:"font-pixel text-[10px] text-retro-green mb-4",children:"ADD NEW ROUND"}),g.jsx(Wy,{onSubmit:R,nextOrderIndex:c.length})]})]})]})]})}function fh({children:s}){const{isAuthenticated:r}=Nl();return r?g.jsx(g.Fragment,{children:s}):g.jsx(Fy,{})}function Hy(){return g.jsx(Jm,{children:g.jsx(Iy,{children:g.jsx(Ay,{children:g.jsxs(Km,{children:[g.jsx(Jt,{path:"/",element:g.jsx(Uy,{})}),g.jsx(Jt,{path:"/game/:gameCode/lobby",element:g.jsx(Dy,{})}),g.jsx(Jt,{path:"/game/:gameCode/play",element:g.jsx(zy,{})}),g.jsx(Jt,{path:"/game/:gameCode/waiting",element:g.jsx(My,{})}),g.jsx(Jt,{path:"/game/:gameCode/results",element:g.jsx(By,{})}),g.jsx(Jt,{path:"/admin",element:g.jsx(fh,{children:g.jsx(qy,{})})}),g.jsx(Jt,{path:"/admin/quiz/:quizId",element:g.jsx(fh,{children:g.jsx(Vy,{})})}),g.jsx(Jt,{path:"*",element:g.jsx(Vm,{to:"/",replace:!0})})]})})})})}tm.createRoot(document.getElementById("root")).render(g.jsx(I.StrictMode,{children:g.jsx(Hy,{})}));
